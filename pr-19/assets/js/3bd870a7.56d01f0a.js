"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[457],{3319:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"metacall-core/cli-commands","title":"CLI Commands","description":"This page documents the MetaCall Command Line Interface (CLI) commands and their usage. The CLI provides a way to interact with MetaCall\'s polyglot runtime through command-line arguments and a Read-Eval-Print Loop (REPL) interface. For information about the REPL mode specifically, see REPL Mode.","source":"@site/docs/metacall-core/cli-commands.md","sourceDirName":"metacall-core","slug":"/metacall-core/cli-commands","permalink":"/doc/docs/metacall-core/cli-commands","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"CLI Commands"},"sidebar":"tutorialSidebar","previous":{"title":"Calling Functions","permalink":"/doc/docs/metacall-core/calling-functions"},"next":{"title":"Command Line Interface","permalink":"/doc/docs/metacall-core/command-line-interface"}}');var s=d(4848),c=d(8453);const l={title:"CLI Commands"},r="CLI Commands",t={},o=[{value:"Overview",id:"overview",level:2},{value:"Command Execution Flow",id:"command-execution-flow",level:2},{value:"CLI Architecture",id:"cli-architecture",level:2},{value:"Command Line Arguments",id:"command-line-arguments",level:2},{value:"Script Execution",id:"script-execution",level:2},{value:"REPL Commands",id:"repl-commands",level:2},{value:"Command Processing Sequence",id:"command-processing-sequence",level:2},{value:"Plugin System",id:"plugin-system",level:2},{value:"Sandboxing",id:"sandboxing",level:2},{value:"Error Handling",id:"error-handling",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cli-commands",children:"CLI Commands"})}),"\n",(0,s.jsxs)(n.p,{children:["This page documents the MetaCall Command Line Interface (CLI) commands and their usage. The CLI provides a way to interact with MetaCall's polyglot runtime through command-line arguments and a Read-Eval-Print Loop (REPL) interface. For information about the REPL mode specifically, see ",(0,s.jsx)(n.a,{href:"/doc/docs/metacall-core/repl-mode",children:"REPL Mode"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"The MetaCall CLI enables users to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Load and execute code from multiple programming languages"}),"\n",(0,s.jsx)(n.li,{children:"Call functions across language boundaries"}),"\n",(0,s.jsx)(n.li,{children:"Configure runtime behavior through command-line options"}),"\n",(0,s.jsx)(n.li,{children:"Interact with the system through an interactive REPL"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"command-execution-flow",children:"Command Execution Flow"}),"\n",(0,s.jsx)(n.p,{children:"Below is a diagram showing how commands flow through the MetaCall CLI system:"}),"\n",(0,s.jsx)(n.h2,{id:"cli-architecture",children:"CLI Architecture"}),"\n",(0,s.jsx)(n.p,{children:"The CLI consists of several interconnected components that process commands:"}),"\n",(0,s.jsx)(n.h2,{id:"command-line-arguments",children:"Command Line Arguments"}),"\n",(0,s.jsx)(n.p,{children:"When launching MetaCall with command-line arguments, you can use the following options:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Short Form"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--help"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-h"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Display help information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--empty"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Empty flag with no parameters"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--option=VALUE"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-o VALUE"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Option that takes a string value"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--multiple=VALUE"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-m VALUE"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Option that can be specified multiple times"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--sandboxing"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Enable sandbox mode for security isolation"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--disable_filesystem"})}),(0,s.jsx)(n.td,{children:"Boolean"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Disable filesystem access in sandbox mode"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--disable_io"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Disable I/O operations in sandbox mode"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--disable_time"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Disable time-related functions in sandbox mode"}),(0,s.jsx)(n.td,{children:"Examples:"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"script-execution",children:"Script Execution"}),"\n",(0,s.jsx)(n.p,{children:"MetaCall CLI can execute scripts in various programming languages by mapping file extensions to the appropriate loader. To execute scripts, simply pass them as arguments:"}),"\n",(0,s.jsx)(n.p,{children:"The CLI uses the file extension to determine which loader to use. Here's the mapping of file extensions to loaders:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"File Extension"}),(0,s.jsx)(n.th,{children:"Loader Tag"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".py"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"py"})}),(0,s.jsx)(n.td,{children:"Python Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".js"}),", ",(0,s.jsx)(n.code,{children:".node"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"node"})}),(0,s.jsx)(n.td,{children:"Node.js Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".rb"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rb"})}),(0,s.jsx)(n.td,{children:"Ruby Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".cs"}),", ",(0,s.jsx)(n.code,{children:".dll"}),", ",(0,s.jsx)(n.code,{children:".vb"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cs"})}),(0,s.jsx)(n.td,{children:"C# Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".cob"}),", ",(0,s.jsx)(n.code,{children:".cbl"}),", ",(0,s.jsx)(n.code,{children:".cpy"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"cob"})}),(0,s.jsx)(n.td,{children:"Cobol Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".ts"}),", ",(0,s.jsx)(n.code,{children:".jsx"}),", ",(0,s.jsx)(n.code,{children:".tsx"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ts"})}),(0,s.jsx)(n.td,{children:"TypeScript Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".wasm"}),", ",(0,s.jsx)(n.code,{children:".wat"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"wasm"})}),(0,s.jsx)(n.td,{children:"WebAssembly Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".rs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rs"})}),(0,s.jsx)(n.td,{children:"Rust Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".c"}),", ",(0,s.jsx)(n.code,{children:".h"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"c"})}),(0,s.jsx)(n.td,{children:"C Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:".java"}),", ",(0,s.jsx)(n.code,{children:".jar"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"java"})}),(0,s.jsx)(n.td,{children:"Java Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".rpc"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rpc"})}),(0,s.jsx)(n.td,{children:"RPC Loader"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:".mock"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mock"})}),(0,s.jsx)(n.td,{children:"Mock Loader (for testing)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"repl-commands",children:"REPL Commands"}),"\n",(0,s.jsx)(n.p,{children:"When launched without arguments, MetaCall CLI enters REPL mode with the following commands available:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Command"}),(0,s.jsx)(n.th,{children:"Syntax"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"load"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"load <tag> <files...>"})}),(0,s.jsx)(n.td,{children:"Load scripts using the specified loader tag"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"eval"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"eval <tag> <code>"})}),(0,s.jsx)(n.td,{children:"Evaluate code string with specified runtime"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"call"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"call <function>(<args>)"})}),(0,s.jsx)(n.td,{children:"Call a loaded function with arguments"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"inspect"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"inspect"})}),(0,s.jsx)(n.td,{children:"Display information about loaded functions"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"clear"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"clear <tag> <file>"})}),(0,s.jsx)(n.td,{children:"Unload a specific file"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"help"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"help"})}),(0,s.jsx)(n.td,{children:"Display help information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"copyright"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"copyright"})}),(0,s.jsx)(n.td,{children:"Display copyright information"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"debug"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"debug <args>"})}),(0,s.jsx)(n.td,{children:"Debug commands with various arguments"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"exit"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"exit"})}),(0,s.jsx)(n.td,{children:"Exit the REPL"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Examples:"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u03bb load py script.py\n\u03bb load node module.js\n\u03bb call add(5, 10)\n\u03bb eval node console.log('Hello from Node.js!')\n\u03bb inspect\n\u03bb exit\n"})}),"\n",(0,s.jsx)(n.h2,{id:"command-processing-sequence",children:"Command Processing Sequence"}),"\n",(0,s.jsx)(n.p,{children:"The following sequence diagram illustrates how a command flows through the MetaCall CLI system:"}),"\n",(0,s.jsx)(n.h2,{id:"plugin-system",children:"Plugin System"}),"\n",(0,s.jsx)(n.p,{children:"The CLI uses a plugin architecture for extensibility, with plugins organized into three categories:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Internal Plugins"}),": Core CLI functionality"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Located in ",(0,s.jsx)(n.code,{children:"plugins/cli/internal/"})]}),"\n",(0,s.jsx)(n.li,{children:"Loaded at CLI startup"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"REPL Plugins"}),": Extensions for the REPL mode"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Located in ",(0,s.jsx)(n.code,{children:"plugins/cli/repl/"})]}),"\n",(0,s.jsx)(n.li,{children:"Loaded when entering REPL mode"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"CMD Plugins"}),": Command-line argument handlers"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Located in ",(0,s.jsx)(n.code,{children:"plugins/cli/cmd/"})]}),"\n",(0,s.jsx)(n.li,{children:"Loaded when processing command-line arguments"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The CLI dynamically discovers and loads plugins from these directories during initialization."}),"\n",(0,s.jsx)(n.h2,{id:"sandboxing",children:"Sandboxing"}),"\n",(0,s.jsxs)(n.p,{children:["The CLI provides sandboxing capabilities for enhanced security when executing untrusted code. When enabled with the ",(0,s.jsx)(n.code,{children:"--sandboxing"})," flag, you can restrict access to:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Filesystem operations (",(0,s.jsx)(n.code,{children:"--disable_filesystem"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Input/output operations (",(0,s.jsx)(n.code,{children:"--disable_io"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Time-related functions (",(0,s.jsx)(n.code,{children:"--disable_time"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"The CLI provides error handling for exceptions that occur during command execution. When an exception is thrown, it displays:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The exception message"}),"\n",(0,s.jsx)(n.li,{children:"A stacktrace if available"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This applies to both command-line execution and REPL mode."}),"\n",(0,s.jsxs)(n.p,{children:["Sources: ",(0,s.jsx)(n.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L556-L567",children:"source/cli/metacallcli/source/application.cpp556-567"})]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,d)=>{d.d(n,{R:()=>l,x:()=>r});var i=d(6540);const s={},c=i.createContext(s);function l(e){const n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);