"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[961],{7658:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"tutorials/Climatic","title":"Climatic","description":"Building a Polyglot Weather Dashboard with MetaCall","source":"@site/docs/tutorials/Climatic.md","sourceDirName":"tutorials","slug":"/tutorials/Climatic","permalink":"/doc/docs/tutorials/Climatic","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"python","permalink":"/doc/docs/tags/python"},{"inline":true,"label":"node.js","permalink":"/doc/docs/tags/node-js"},{"inline":true,"label":"vue.js","permalink":"/doc/docs/tags/vue-js"},{"inline":true,"label":"machine-learning","permalink":"/doc/docs/tags/machine-learning"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"tags":["python","node.js","vue.js","machine-learning"]},"sidebar":"tutorialSidebar","previous":{"title":"Tutorials","permalink":"/doc/docs/category/tutorials"},"next":{"title":"Traversing a Polyglot Tree with MetaCall","permalink":"/doc/docs/tutorials/treetraversal"}}');var r=t(4848),i=t(8453),s=t(7734);const l={sidebar_position:4,tags:["python","node.js","vue.js","machine-learning"]},o=void 0,d={},c=[{value:"Building a Polyglot Weather Dashboard with MetaCall",id:"building-a-polyglot-weather-dashboard-with-metacall",level:2},{value:"Tutorial Overview",id:"tutorial-overview",level:2},{value:"Installing MetaCall",id:"installing-metacall",level:2},{value:"What We Are Building?",id:"what-we-are-building",level:3},{value:"A <strong>Weather dashboard</strong> that combines different programming languages to provide weather insights. Here&#39;s how it works:",id:"a-weather-dashboard-that-combines-different-programming-languages-to-provide-weather-insights-heres-how-it-works",level:4},{value:"<strong>Why Use Python in a Node.js Project?</strong>",id:"why-use-python-in-a-nodejs-project",level:3},{value:"Installing Project Dependencies",id:"installing-project-dependencies",level:2},{value:"<strong>Step 1: Install Node.js Dependencies</strong>",id:"step-1-install-nodejs-dependencies",level:3},{value:"<strong>Step 2: Install Python Dependencies</strong>",id:"step-2-install-python-dependencies",level:3},{value:"\ud83d\udcdd 4. Writing the Python Weather Analysis Script",id:"-4-writing-the-python-weather-analysis-script",level:2},{value:"Functions Overview",id:"functions-overview",level:2},{value:"<strong>Create a Python File (<code>weather_analysis.py</code>)</strong>",id:"create-a-python-file-weather_analysispy",level:3},{value:"1. <strong>Weather Analysis</strong>",id:"1-weather-analysis",level:3},{value:"Explanation",id:"explanation",level:3},{value:"2. Detecting Temperature Trends",id:"2-detecting-temperature-trends",level:3},{value:"Explanation",id:"explanation-1",level:3},{value:"3. Generating a Weather Summary",id:"3-generating-a-weather-summary",level:3},{value:"Explanation",id:"explanation-2",level:3},{value:"Example Usage",id:"example-usage",level:2},{value:"Sample Output",id:"sample-output",level:3},{value:"\ud83c\udf26\ufe0f  Connecting to a Live Weather API (OpenWeatherMap)",id:"\ufe0f--connecting-to-a-live-weather-api-openweathermap",level:2},{value:"<strong>Get an API Key</strong>",id:"get-an-api-key",level:3},{value:"\ud83d\udd17 5. Calling Python Code from Node.js using MetaCall",id:"-5-calling-python-code-from-nodejs-using-metacall",level:2},{value:"<strong>Create a (<code>main.js</code>) File</strong>",id:"create-a-mainjs-file",level:3},{value:"How This Works",id:"how-this-works",level:2},{value:"Usage",id:"usage",level:2},{value:"We can Also Get AirQuality Data",id:"we-can-also-get-airquality-data",level:3},{value:"How This Works",id:"how-this-works-1",level:2},{value:"Usage",id:"usage-1",level:2},{value:"\ud83d\udee0\ufe0f 7. Testing MetaCall FaaS Locally",id:"\ufe0f-7-testing-metacall-faas-locally",level:2},{value:"\u2601\ufe0f 8. Deploying to MetaCall FaaS (Serverless Deployment)",id:"\ufe0f-8-deploying-to-metacall-faas-serverless-deployment",level:2},{value:"<strong>Step 1: Log in to MetaCall Cloud</strong>",id:"step-1-log-in-to-metacall-cloud",level:3},{value:"<strong>Step 2: Upload Your Python Script</strong>",id:"step-2-upload-your-python-script",level:3},{value:"<strong>Step 3: Get Your API Endpoint</strong>",id:"step-3-get-your-api-endpoint",level:3},{value:"<strong>Step 4: Modify <code>main.js</code> to Use the Cloud API</strong>",id:"step-4-modify-mainjs-to-use-the-cloud-api",level:3},{value:"<strong>Step 5: Run Your Backend Again</strong>",id:"step-5-run-your-backend-again",level:3},{value:"Additional Steps",id:"additional-steps",level:2},{value:"Display Weather Data Inside Frontend with Vue.js",id:"display-weather-data-inside-frontend-with-vuejs",level:3},{value:"Step 1: Create a Vue.js App",id:"step-1-create-a-vuejs-app",level:3},{value:"Step 2: Install Axios in Vue",id:"step-2-install-axios-in-vue",level:3},{value:"Step 3: Modify App.vue",id:"step-3-modify-appvue",level:3},{value:"Styling(Optional)",id:"stylingoptional",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Get Involved",id:"get-involved",level:2},{value:"See the Full Implementation",id:"see-the-full-implementation",level:3},{value:"Share Your Work",id:"share-your-work",level:3},{value:"Don&#39;t forget to star the repo and share your experience! \ud83d\ude03",id:"dont-forget-to-star-the-repo-and-share-your-experience-",level:3}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{}),"\n",(0,r.jsx)(n.h2,{id:"building-a-polyglot-weather-dashboard-with-metacall",children:"Building a Polyglot Weather Dashboard with MetaCall"}),"\n",(0,r.jsxs)(n.p,{children:["In this tutorial, you will learn how to build a ",(0,r.jsx)(n.strong,{children:"weather dashboard"})," by integrating ",(0,r.jsx)(n.strong,{children:"Node.js"})," for API handling and ",(0,r.jsx)(n.strong,{children:"Python"})," for weather analytics. This project demonstrates how to leverage multiple programming languages in a seamless manner using ",(0,r.jsx)(n.strong,{children:"MetaCall"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"tutorial-overview",children:"Tutorial Overview"}),"\n",(0,r.jsx)(n.p,{children:"In this tutorial, you'll learn how to create a weather dashboard by integrating Node.js and Python using MetaCall. You will cover:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Installing MetaCall."}),"\n",(0,r.jsx)(n.li,{children:"Writing Python functions for weather analytics."}),"\n",(0,r.jsx)(n.li,{children:"Calling Python functions from a Node.js backend."}),"\n",(0,r.jsx)(n.li,{children:"Deploying the solution to the cloud for real-time weather data processing."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installing-metacall",children:"Installing MetaCall"}),"\n",(0,r.jsxs)(n.p,{children:["MetaCall enables the execution of functions from different programming languages in a single project. Before proceeding, ensure that ",(0,r.jsx)(n.strong,{children:"MetaCall"})," is installed. Follow the ",(0,r.jsx)(n.a,{href:"/docs/category/installating-metacall-cli",children:"MetaCall's installation guide"}),". to set it up."]}),"\n",(0,r.jsx)(n.h3,{id:"what-we-are-building",children:"What We Are Building?"}),"\n",(0,r.jsxs)(n.h4,{id:"a-weather-dashboard-that-combines-different-programming-languages-to-provide-weather-insights-heres-how-it-works",children:["A ",(0,r.jsx)(n.strong,{children:"Weather dashboard"})," that combines different programming languages to provide weather insights. Here's how it works:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Node.js Backend:"})," Handles API requests and serves data."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python Analytics Module:"})," Performs data analysis using libraries like ",(0,r.jsx)(n.code,{children:"pandas"})," and ",(0,r.jsx)(n.code,{children:"NumPy"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MetaCall Integration:"})," Executes Python functions inside the Node.js backend."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vue.js Frontend (Optional):"})," Displays weather data in a user-friendly UI."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"why-use-python-in-a-nodejs-project",children:(0,r.jsx)(n.strong,{children:"Why Use Python in a Node.js Project?"})}),"\n",(0,r.jsxs)(n.p,{children:["While JavaScript excels at handling API requests, Python offers advanced data processing libraries that are essential for weather analytics. By using MetaCall, you can integrate the best of both worlds: ",(0,r.jsx)(n.strong,{children:"Node.js"})," for API handling and ",(0,r.jsx)(n.strong,{children:"Python"})," for analytics."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"installing-project-dependencies",children:"Installing Project Dependencies"}),"\n",(0,r.jsx)(n.p,{children:"Before writing any code, let's install the necessary libraries."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-install-nodejs-dependencies",children:(0,r.jsx)(n.strong,{children:"Step 1: Install Node.js Dependencies"})}),"\n",(0,r.jsx)(n.p,{children:"Run the following command in your project folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"npm install express axios\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-install-python-dependencies",children:(0,r.jsx)(n.strong,{children:"Step 2: Install Python Dependencies"})}),"\n",(0,r.jsxs)(n.p,{children:["For weather data analysis,u should download This File\n",(0,r.jsx)(n.a,{href:"https://github.com/metacall/weather-dashboard-example/blob/main/backend/requirements.txt",children:"Requirements"})]}),"\n",(0,r.jsx)(n.p,{children:"Run the following command in your project folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"metacall pip install -r requirements.txt\n"})}),"\n",(0,r.jsx)(n.p,{children:"Now, we are ready to write some code! \ud83d\ude80"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-4-writing-the-python-weather-analysis-script",children:"\ud83d\udcdd 4. Writing the Python Weather Analysis Script"}),"\n",(0,r.jsxs)(n.p,{children:["We'll write a simple Python Script to ",(0,r.jsx)(n.strong,{children:"analyze weather data"})," using ",(0,r.jsx)(n.code,{children:"Python"}),".\nfocusing on weather analysis , trends and predictions  . The implementation includes functions to summarize the weather, detect temperature trends, and predict future temperatures using machine learning techniques and give an analysis of the current weather."]}),"\n",(0,r.jsx)(n.h2,{id:"functions-overview",children:"Functions Overview"}),"\n",(0,r.jsx)(n.p,{children:"This tutorial consists of three main functions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_weather_summary(weather_data, predicted_temp_next_day)"}),": Generates a summary of today\u2019s weather and tomorrow\u2019s predicted temperature."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"detect_trend(temps)"}),": Detects whether the temperature is increasing, decreasing, or stable."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_weather_stats(weather_data)"}),": give an analysis of the current weather, predict temperature,detect temperature trends and provides a weather summary."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"create-a-python-file-weather_analysispy",children:(0,r.jsxs)(n.strong,{children:["Create a Python File (",(0,r.jsx)(n.code,{children:"weather_analysis.py"}),")"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import statistics\nimport numpy as np\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.pipeline import make_pipeline\nfrom sklearn.linear_model import LinearRegression\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"1-weather-analysis",children:["1. ",(0,r.jsx)(n.strong,{children:"Weather Analysis"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def get_weather_stats(weather_data):\n    temps = [item["main"]["temp"] for item in weather_data["list"]]\n    avg_temp = round(statistics.mean(temps), 2)   \n    \n    timestamps = np.arange(len(temps)).reshape(-1, 1)\n\n    if len(temps) < 3:\n        return {"error": "Not enough data to predict", "language": "Python"}\n\n    # Use Polynomial Regression \n    model = make_pipeline(PolynomialFeatures(degree=2), LinearRegression())\n    model.fit(timestamps, temps)\n\n    # Predict next day\'s temperature\n    next_time_index = np.array([[len(temps)]]).reshape(-1, 1)\n    predicted_temp = round(model.predict(next_time_index)[0], 2)\n    trend = detect_trend(temps)\n    weather_summary = get_weather_summary(weather_data, predicted_temp)\n\n    return {\n        "average_temperature": round(np.mean(temps), 2),\n        "max_temp": round(np.max(temps), 2),\n        "min_temp": round(np.min(temps), 2),\n        "predicted_temp_next_day": round(predicted_temp, 2),\n        "trend": trend,\n        "summary": weather_summary["summary"],\n        "average_temperature": avg_temp\n    }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"explanation",children:"Explanation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extracts temperature data from ",(0,r.jsx)(n.code,{children:"weather_data"})," from ",(0,r.jsx)(n.code,{children:"OpenWeather"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Uses polynomial regression (degree 2) for improved trend analysis."}),"\n",(0,r.jsx)(n.li,{children:"Predicts the next day\u2019s temperature."}),"\n",(0,r.jsxs)(n.li,{children:["Calls ",(0,r.jsx)(n.code,{children:"detect_trend"})," to determine the general trend."]}),"\n",(0,r.jsx)(n.li,{children:"Returns a structured weather report with key statistics and avg temps."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-detecting-temperature-trends",children:"2. Detecting Temperature Trends"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def detect_trend(temps):\n    """Detect whether the temperature trend is increasing, decreasing, or stable."""\n    trend = np.polyfit(range(len(temps)), temps, 1)[0]\n    if trend > 0:\n        return "increasing"\n    elif trend < 0:\n        return "decreasing"\n    return "stable"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"explanation-1",children:"Explanation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uses ",(0,r.jsx)(n.code,{children:"numpy.polyfit"})," to compute a linear trend line."]}),"\n",(0,r.jsx)(n.li,{children:"Determines whether the overall trend is increasing, decreasing, or stable."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-generating-a-weather-summary",children:"3. Generating a Weather Summary"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def get_weather_summary(weather_data, predicted_temp_next_day):\n    """Generate a summary of today\'s weather and tomorrow\'s predicted temperature."""\n    temps = [item["main"]["temp"] for item in weather_data["list"]]\n\n    if len(temps) < 16:\n        return {"error": "Not enough data to predict", "language": "Python"}\n    \n    today_temps = temps[:8]\n    max_temp_today = int(round(max(today_temps)))\n    min_temp_today = int(round(min(today_temps)))\n    predicted_temp = int(round(predicted_temp_next_day))\n\n    # Identify temperature trend\n    is_steadily_increasing = all(today_temps[i] < today_temps[i + 1] for i in range(len(today_temps) - 1))\n    is_steadily_decreasing = all(today_temps[i] > today_temps[i + 1] for i in range(len(today_temps) - 1))\n\n    if is_steadily_increasing:\n        summary = f"Weather Today: Temperatures will gradually rise, peaking at {max_temp_today}\xb0C."\n    elif is_steadily_decreasing:\n        summary = f"Weather Today: Temperatures will gradually drop, reaching a low of {min_temp_today}\xb0C."\n    else:\n        summary = f"Weather Today will be warmer with a high of {max_temp_today}\xb0C and a low of {min_temp_today}\xb0C."\n    \n    # Add tomorrow\'s prediction\n    summary += f" Tomorrow, the expected temperature will be around {predicted_temp}\xb0C."\n\n    return {\n        "summary": summary,\n        "max_temp_today": max_temp_today,\n        "min_temp_today": min_temp_today,\n        "predicted_temp_next_day": predicted_temp\n    }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"explanation-2",children:"Explanation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extracts temperature data from ",(0,r.jsx)(n.code,{children:"weather_data"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Identifies whether the temperature is increasing, decreasing, or normal."}),"\n",(0,r.jsx)(n.li,{children:"Constructs a human-readable summary of the day's weather and tomorrow's forecast."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,r.jsx)(n.p,{children:"To use these functions, provide weather data in the following format:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'weather_data = {\n    "list": [\n        {"main": {"temp": 15.0}},\n        {"main": {"temp": 16.5}},\n        {"main": {"temp": 18.0}},\n        {"main": {"temp": 19.5}},\n        {"main": {"temp": 20.0}},\n    ]\n}\n\nprint(get_weather_stats(weather_data))\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-output",children:"Sample Output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "average_temperature": 17.8,\n    "max_temp": 20.0,\n    "min_temp": 15.0,\n    "predicted_temp_next_day": 21.5,\n    "trend": "increasing",\n    "summary": "Weather Today: Temperatures will gradually rise, peaking at 20\xb0C. Tomorrow, the expected temperature will be around 21.5\xb0C."\n}\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"\ud83c\udf89\ud83c\udf89",type:"tip",children:(0,r.jsx)(n.p,{children:"Now, We Created The Weather Analysis Functions We Can Move To The Node.Js Part ,Congrats!"})}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f--connecting-to-a-live-weather-api-openweathermap",children:"\ud83c\udf26\ufe0f  Connecting to a Live Weather API (OpenWeatherMap)"}),"\n",(0,r.jsxs)(n.p,{children:["Instead of using static data, let\u2019s fetch real-time weather data from ",(0,r.jsx)(n.strong,{children:"OpenWeatherMap"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"get-an-api-key",children:(0,r.jsx)(n.strong,{children:"Get an API Key"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Sign up at ",(0,r.jsx)(n.a,{href:"https://openweathermap.org/",children:"OpenWeatherMap"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Get your ",(0,r.jsx)(n.strong,{children:"API key"})," from the dashboard."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Info",type:"tip",children:(0,r.jsxs)(n.p,{children:["Now, We Can Use This In Our  ",(0,r.jsx)(n.code,{children:"Main.js"})," File!"]})}),"\n",(0,r.jsx)(n.h2,{id:"-5-calling-python-code-from-nodejs-using-metacall",children:"\ud83d\udd17 5. Calling Python Code from Node.js using MetaCall"}),"\n",(0,r.jsx)(n.p,{children:"Now, let\u2019s integrate our Python function into a Node.js Code!"}),"\n",(0,r.jsx)(n.h3,{id:"create-a-mainjs-file",children:(0,r.jsxs)(n.strong,{children:["Create a (",(0,r.jsx)(n.code,{children:"main.js"}),") File"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst axios = require('axios')\nconst { metacall } = require(\"metacall\");\nconst app = express();\nconst PORT = process.env.PORT || 5000;\napp.use(express.json());\napp.get('/', (req, res) => {\n    res.send('Hello, World!');\n});\n\napp.listen(PORT, () => {\n    console.log(`Server is running on http://localhost:${PORT}`);\n});\n\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'const WEATHER_API_KEY = process.env.WEATHER_API_KEY;\nconst FORECAST_API_URL = "https://api.openweathermap.org/data/2.5/forecast";\napp.post("/analyze-weather", async (req, res) => {\n    try {\n        const { city } = req.body;\n        if (!city) return res.status(400).json({ error: "City is required" });\n\n        // Fetch Forecast Data from OpenWeatherMap\n        const response = await axios.get(`${FORECAST_API_URL}?q=${city}&appid=${WEATHER_API_KEY}&units=metric`);\n        const weatherData = response.data;\n\n        // Call Python Function via MetaCall\n        const analytics = await metacall("get_weather_stats", weatherData);\n\n        const forecast = weatherData.list.slice(0, 5).map(item => ({\n            date: new Date(item.dt * 1000).toLocaleDateString("en-US", { weekday: "long", month: "short", day: "numeric" }),\n            time: new Date(item.dt * 1000).toLocaleTimeString("en-US", { hour: "2-digit", minute: "2-digit", hour12: true }),\n            temperature: item.main.temp,\n            description: item.weather[0].description,\n            icon: `https://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png`\n        }));\n\n        res.json({\n            forecast,\n            city,\n            analytics: {\n                average_temperature: Math.floor(analytics.average_temperature),\n                max_temp: Math.floor(analytics.max_temp),\n                min_temp: Math.floor(analytics.min_temp),\n                predicted_temp_next_day: Math.floor(analytics.predicted_temp_next_day),\n                trend: analytics.trend,\n                condition: analytics.condition,\n                forechart: analytics.forecast_chart,\n                summary: analytics.summary\n            },\n            language: analytics.language\n        });\n    } catch (error) {\n        res.status(500).json({ error: "Failed to fetch weather data" });\n    }\n});\n'})}),"\n",(0,r.jsx)(n.h2,{id:"how-this-works",children:"How This Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The user sends a ",(0,r.jsx)(n.code,{children:"POST"})," request with the ",(0,r.jsx)(n.code,{children:"city"})," name."]}),"\n",(0,r.jsx)(n.li,{children:"The API fetches weather data from OpenWeatherMap."}),"\n",(0,r.jsx)(n.li,{children:"The fetched data is passed to a Python function via MetaCall."}),"\n",(0,r.jsx)(n.li,{children:"The Python function analyzes the weather data and returns statistics."}),"\n",(0,r.jsx)(n.li,{children:"The API formats the results and sends them back in JSON response."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Send a POST request to the API endpoint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'curl -X POST http://localhost:5000/analyze-weather -H "Content-Type: application/json" -d \'{"city": "London"}\'\n'})}),"\n",(0,r.jsx)(n.h3,{id:"we-can-also-get-airquality-data",children:"We can Also Get AirQuality Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"app.post(\"/air-quality\", async (req, res) => {\n    const cityName = req.body.city;\n        \n    if (!cityName) {\n        return res.status(400).json({ error: 'City name is required' });\n    }\n    \n    try {\n        // Step 1: Get city coordinates\n        const geoUrl = `https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(cityName)}&limit=1&appid=${WEATHER_API_KEY}`;\n        const geoResponse = await axios.get(geoUrl);\n        const geoData = geoResponse.data;\n        \n        if (geoData.length === 0) { // Check if array is empty\n            return res.status(404).json({ error: 'City not found' });\n        }\n        \n        // Extract coordinates from first result\n        const { lat, lon } = geoData[0];\n        \n        // Step 2: Get air quality data\n        const airQualityUrl = `https://api.openweathermap.org/data/2.5/air_pollution?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}`;\n        const airQualityResponse = await axios.get(airQualityUrl);\n        const airQualityData = airQualityResponse.data;\n        \n        if (!airQualityData.list?.length) {\n            return res.status(500).json({ error: 'Failed to fetch air quality data' });\n        }\n        \n        // Step 3: Return results\n        return res.json({\n            city: cityName,\n            aqi: airQualityData.list[0].main.aqi,\n            airQualityData: airQualityData.list[0].components,\n        });\n        \n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return res.status(500).json({ error: 'Internal server error' });\n    }\n});\n\n"})}),"\n",(0,r.jsx)(n.h2,{id:"how-this-works-1",children:"How This Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The user sends a ",(0,r.jsx)(n.code,{children:"POST"})," request with the ",(0,r.jsx)(n.code,{children:"city"})," name."]}),"\n",(0,r.jsx)(n.li,{children:"The API fetches the city's coordinates from OpenWeatherMap using the geo-location API"}),"\n",(0,r.jsx)(n.li,{children:"The API then fetches air quality data based on the coordinates."}),"\n",(0,r.jsx)(n.li,{children:"The fetched air quality data is returned in the response."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage-1",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"Send a POST request to the API endpoint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'curl -X POST http://localhost:3000/air-quality -H "Content-Type: application/json" -d \'{"city": "London"}\'\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"Info",type:"info",children:(0,r.jsxs)(n.p,{children:["Congrats! You created the main functions for the weather app.",(0,r.jsx)(n.br,{}),"\n","You can see the full functions implementation ",(0,r.jsx)(n.a,{href:"https://github.com/metacall/weather-dashboard-example",children:"here"}),"."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-7-testing-metacall-faas-locally",children:"\ud83d\udee0\ufe0f 7. Testing MetaCall FaaS Locally"}),"\n",(0,r.jsx)(n.p,{children:"Before deploying, let\u2019s ensure our function works with MetaCall locally."}),"\n",(0,r.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"metacall main.js\n"})}),"\n",(0,r.jsx)(n.p,{children:"This verifies that MetaCall can execute our function without errors."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\ufe0f-8-deploying-to-metacall-faas-serverless-deployment",children:"\u2601\ufe0f 8. Deploying to MetaCall FaaS (Serverless Deployment)"}),"\n",(0,r.jsxs)(n.p,{children:["Now, let's deploy our Python function to the ",(0,r.jsx)(n.strong,{children:"MetaCall Cloud"})," so it can be used anywhere!"]}),"\n",(0,r.jsx)(n.h3,{id:"step-1-log-in-to-metacall-cloud",children:(0,r.jsx)(n.strong,{children:"Step 1: Log in to MetaCall Cloud"})}),"\n",(0,r.jsxs)(n.p,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://dashboard.metacall.io",children:"MetaCall Dashboard"})," and log in or sign up."]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-upload-your-python-script",children:(0,r.jsx)(n.strong,{children:"Step 2: Upload Your Python Script"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to the ",(0,r.jsx)(n.strong,{children:"Deployments"})," section."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Upload Function"})," and select ",(0,r.jsx)(n.code,{children:"weather_analysis.py"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-get-your-api-endpoint",children:(0,r.jsx)(n.strong,{children:"Step 3: Get Your API Endpoint"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["MetaCall will generate a ",(0,r.jsx)(n.strong,{children:"public API URL"})," for your function."]}),"\n",(0,r.jsx)(n.li,{children:"Copy this URL to use it in your Node.js backend."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-4-modify-mainjs-to-use-the-cloud-api",children:(0,r.jsxs)(n.strong,{children:["Step 4: Modify ",(0,r.jsx)(n.code,{children:"main.js"})," to Use the Cloud API"]})}),"\n",(0,r.jsx)(n.p,{children:"Replace the local MetaCall call with an HTTP request to your cloud function:\ninside the weather/analyze"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"from:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:' const analytics = await metacall("get_weather_stats", weatherData);\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"to:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"    const analytics = await axios.post('YOUR_METACALL_API_URL', { args: [weatherData] });\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-5-run-your-backend-again",children:(0,r.jsx)(n.strong,{children:"Step 5: Run Your Backend Again"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"metacall main.js\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now, your ",(0,r.jsx)(n.strong,{children:"Node.js backend is using the metacall Faas Function"}),"! \ud83d\ude80"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"additional-steps",children:"Additional Steps"}),"\n",(0,r.jsx)(n.h3,{id:"display-weather-data-inside-frontend-with-vuejs",children:"Display Weather Data Inside Frontend with Vue.js"}),"\n",(0,r.jsx)(n.p,{children:"Now let's create the frontend with Vue.js to display the weather data in a user-friendly interface."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-create-a-vuejs-app",children:"Step 1: Create a Vue.js App"}),"\n",(0,r.jsx)(n.p,{children:"If you don\u2019t have Vue CLI installed, you can install it with the following:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"npm install -g @vue/cli\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a new Vue project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"vue create [projectname]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Once the project is created, navigate to the project folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd [projectname]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-install-axios-in-vue",children:"Step 2: Install Axios in Vue"}),"\n",(0,r.jsx)(n.p,{children:"Install Axios to make HTTP requests to the Node.js backend:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"npm install axios\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-modify-appvue",children:"Step 3: Modify App.vue"}),"\n",(0,r.jsx)(n.p,{children:"add the following template content:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<template>\n  <div id="app">\n    <h1>Climatic Weather Dashboard</h1>\n    \n    \x3c!-- Weather Info Section --\x3e\n    <div v-if="weatherData">\n      <p><strong>City:</strong> {{ weatherData.name }}</p>\n      <p><strong>Temperature:</strong> {{ weatherData.main.temp }}\xb0C</p>\n      <p><strong>Weather:</strong> {{ weatherData.weather[0].description }}</p>\n    </div>\n\n    <div v-else>\n      <p>Loading weather data...</p>\n    </div>\n\n    \x3c!-- Weather Analysis Section --\x3e\n    <div v-if="weatherSummary">\n      <h2>Weather Analysis</h2>\n      <pre>{{ weatherSummary }}</pre>\n    </div>\n\n    \x3c!-- Air Quality Section --\x3e\n    <div v-if="air_quality">\n      <h2>Air Quality</h2>\n      <ul>\n        <li v-for="(item, index) in air_quality.airQualityData" :key="index">\n          <strong>{{ item.pollutant }}:</strong> {{ item.value }}\n        </li>\n      </ul>\n    </div>\n\n    \x3c!-- Loading and Error Messages --\x3e\n    <div v-if="loading">Loading...</div>\n    <div v-if="errorMessage">{{ errorMessage }}</div>\n  </div>\n</template>\n\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"info",type:"info",children:(0,r.jsx)(n.p,{children:"Next, add the script to handle the logic and data fetching"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'<script setup>\nimport { ref } from \'vue\';\nimport axios from \'axios\';\n\n// Reactive variables\nconst weatherData = ref(null);\nconst weatherSummary = ref(null);\nconst air_quality = ref(null);\nconst loading = ref(false);\nconst errorMessage = ref("");\nconst city = ref("London");\n\n// Fetch Weather Data\nconst fetchWeather = async (city) => {\n  try {\n    const response = await axios.get(`http://localhost:3000/weather?city=${city}`);\n    weatherData.value = response.data;\n  } catch (error) {\n    errorMessage.value = "Error fetching weather data.";\n  }\n};\n\n// Fetch Weather Analysis\nconst fetchWeatherAnalysis = async () => {\n  loading.value = true;\n  errorMessage.value = "";\n\n  try {\n    const response = await fetch("http://localhost:5000/weather/analyze", {\n      method: "POST",\n      headers: { "Content-Type": "application/json" },\n      body: JSON.stringify({ city: city.value }),\n    });\n\n    if (!response.ok) throw new Error("Failed to fetch data");\n\n    const data = await response.json();\n    weatherSummary.value = data;\n\n  } catch (error) {\n    errorMessage.value = "Error fetching weather analysis.";\n  } finally {\n    loading.value = false;\n    skeleton.value = false;\n  }\n};\n\n// Fetch Air Quality\nconst fetchAirQuality = async (city) => {\n  try {\n    const response = await fetch("http://localhost:5000/air/quality", {\n      method: "POST",\n      headers: { "Content-Type": "application/json" },\n      body: JSON.stringify({ city }),\n    });\n\n    const data = await response.json();\n\n    // Convert airQualityData (object) to an array of objects,\n    // then limit it to the first 5 items.\n    const airQualityArray = Object.entries(data.airQualityData)\n      .map(([pollutant, value]) => ({\n        pollutant,\n        value: Number(value),  // Convert value to number if needed\n      }))\n      .slice(0, 4); // Take only the first 4 entries\n\n    air_quality.value = {\n      ...data,\n      airQualityData: airQualityArray,\n    };\n\n  } catch (error) {\n    console.error("Error fetching air quality:", error);\n  }\n};\n\n// Call functions on component mount\n\n<\/script>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"stylingoptional",children:"Styling(Optional)"}),"\n",(0,r.jsxs)(n.p,{children:["For styling, you can add your custom styles inside the ",(0,r.jsx)(n.code,{children:"<style>"})," tag within WeatherDashboard.vue. For example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"This will style your weather dashboard. Customize it according to your preferences."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(n.p,{children:"Congratulations! \ud83c\udf89 You\u2019ve built a polyglot weather dashboard using Node.js, Python, and MetaCall for seamless cross-language execution. You learned how to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Integrate ",(0,r.jsx)(n.strong,{children:"Node.js"})," with ",(0,r.jsx)(n.strong,{children:"Python"})," for weather analytics."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"MetaCall"})," to run Python code within the Node.js backend."]}),"\n",(0,r.jsx)(n.li,{children:"Fetch and process live weather data from an external API."}),"\n",(0,r.jsxs)(n.li,{children:["Deploying to ",(0,r.jsx)(n.strong,{children:"MetaCall"})," FaaS (Serverless Deployment)"]}),"\n",(0,r.jsx)(n.li,{children:"Display weather predictions and analysis with Python\u2019s data-processing capabilities."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you've completed the core functionality, you can further enhance your weather dashboard by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Adding more sophisticated weather analysis and forecasting models in Python."}),"\n",(0,r.jsxs)(n.li,{children:["Enhancing the UI with ",(0,r.jsx)(n.strong,{children:"Vue.js"})," for real-time data updates."]}),"\n",(0,r.jsx)(n.li,{children:"Deploying your project to the cloud to make it accessible anywhere."}),"\n",(0,r.jsx)(n.li,{children:"Experimenting with other data sources and incorporating machine learning models for more accurate predictions."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"get-involved",children:"Get Involved"}),"\n",(0,r.jsxs)(n.p,{children:["If you're interested in contributing to this project or exploring more about polyglot programming with MetaCall, feel free to check out the official ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://metacall.io/docs",children:"MetaCall documentation"})})," and ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://github.com/metacall",children:"GitHub repository"})}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"see-the-full-implementation",children:"See the Full Implementation"}),"\n",(0,r.jsxs)(n.p,{children:["To explore the complete code and structure of this project, check out the full implementation on GitHub:",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://github.com/metacall/weather-dashboard-example",children:"Weather Dashboard Project on GitHub"})})]}),"\n",(0,r.jsx)(n.h3,{id:"share-your-work",children:"Share Your Work"}),"\n",(0,r.jsx)(n.p,{children:"Once you've customized the tutorial or added your own enhancements, share your project with the community! You can create a pull request or link to your repository in the comments."}),"\n",(0,r.jsx)(n.p,{children:"We hope this tutorial helped you understand how to seamlessly integrate Python and Node.js using MetaCall. Happy coding! \ud83d\ude80"}),"\n",(0,r.jsx)(n.h3,{id:"dont-forget-to-star-the-repo-and-share-your-experience-",children:"Don't forget to star the repo and share your experience! \ud83d\ude03"}),"\n",(0,r.jsx)(n.hr,{})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},7734:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(6540),r=t(4070),i=t(5604),s=t(4848);const l=()=>{const{activeDoc:e}=(0,r.zK)(),n=e?.unversionedId||e?.id,[t,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d("undefined"!=typeof window)},[]),(0,a.useEffect)(()=>{if(o&&n){const e=JSON.parse(localStorage.getItem("starredItems")||"[]");l(e.includes(n))}},[n,o]);return n?(0,s.jsx)("div",{className:"star-bookmark",onClick:()=>{if(!o||!n)return;let e=JSON.parse(localStorage.getItem("starredItems")||"[]");t?e=e.filter(e=>e!==n):e.includes(n)||e.push(n),localStorage.setItem("starredItems",JSON.stringify(e)),l(!t)},style:{cursor:"pointer"},children:t?(0,s.jsx)(i.gt3,{size:24,color:"gold"}):(0,s.jsx)(i.wei,{size:24})}):null}}}]);