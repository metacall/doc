"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[8033],{1873:(e,l,c)=>{c.r(l),c.d(l,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"metacall-core/command-line-interface","title":"Command Line Interface","description":"Relevant source files","source":"@site/docs/metacall-core/command-line-interface.md","sourceDirName":"metacall-core","slug":"/metacall-core/command-line-interface","permalink":"/doc/docs/metacall-core/command-line-interface","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Command Line Interface"},"sidebar":"tutorialSidebar","previous":{"title":"CLI Commands","permalink":"/doc/docs/metacall-core/cli-commands"},"next":{"title":"Core API","permalink":"/doc/docs/metacall-core/core-api"}}');var n=c(4848),s=c(8453);const r={title:"Command Line Interface"},a="Command Line Interface",t={},o=[{value:"Relevant source files",id:"relevant-source-files",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Command Line Modes",id:"command-line-modes",level:2},{value:"Command Mode",id:"command-mode",level:3},{value:"REPL Mode",id:"repl-mode",level:3},{value:"Command Parsing and Execution",id:"command-parsing-and-execution",level:2},{value:"Command Registration and Extension",id:"command-registration-and-extension",level:3},{value:"Language Support and Script Loading",id:"language-support-and-script-loading",level:2},{value:"Plugin System",id:"plugin-system",level:2},{value:"REPL Commands",id:"repl-commands",level:2},{value:"Using the CLI",id:"using-the-cli",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Using the REPL",id:"using-the-repl",level:3},{value:"Integration with MetaCall Core",id:"integration-with-metacall-core",level:2},{value:"Extending the CLI",id:"extending-the-cli",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.header,{children:(0,n.jsx)(l.h1,{id:"command-line-interface",children:"Command Line Interface"})}),"\n",(0,n.jsx)(l.h2,{id:"relevant-source-files",children:"Relevant source files"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/cmake/FindV8.cmake",children:"cmake/FindV8.cmake"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/include/metacallcli/application.hpp",children:"source/cli/metacallcli/include/metacallcli/application.hpp"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp",children:"source/cli/metacallcli/source/application.cpp"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/test/time.py",children:"source/cli/metacallcli/test/time.py"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/include/cli_cmd_plugin/cli_cmd_plugin.hpp",children:"source/cli/plugins/cli_cmd_plugin/include/cli_cmd_plugin/cli_cmd_plugin.hpp"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js",children:"source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/test.js",children:"source/cli/plugins/cli_cmd_plugin/source/test.js"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_core_plugin/CMakeLists.txt",children:"source/cli/plugins/cli_core_plugin/CMakeLists.txt"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/CMakeLists.txt",children:"source/cli/plugins/cli_repl_plugin/CMakeLists.txt"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js",children:"source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/parser.js",children:"source/cli/plugins/cli_repl_plugin/source/parser.js"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/test.js",children:"source/cli/plugins/cli_repl_plugin/source/test.js"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_sandbox_plugin/CMakeLists.txt",children:"source/cli/plugins/cli_sandbox_plugin/CMakeLists.txt"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_sandbox_plugin/include/cli_sandbox_plugin/cli_sandbox_plugin.h",children:"source/cli/plugins/cli_sandbox_plugin/include/cli_sandbox_plugin/cli_sandbox_plugin.h"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_sandbox_plugin/source/cli_sandbox_plugin.cpp",children:"source/cli/plugins/cli_sandbox_plugin/source/cli_sandbox_plugin.cpp"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader.h",children:"source/loader/include/loader/loader.h"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader_impl.h",children:"source/loader/include/loader/loader_impl.h"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader_impl_interface.h",children:"source/loader/include/loader/loader_impl_interface.h"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/source/loader.c",children:"source/loader/source/loader.c"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/source/loader_impl.c",children:"source/loader/source/loader_impl.c"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/include/metacall/metacall.h",children:"source/metacall/include/metacall/metacall.h"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/source/metacall.c",children:"source/metacall/source/metacall.c"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/metacall_test/source/metacall_test.cpp",children:"source/tests/metacall_test/source/metacall_test.cpp"})}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"The MetaCall Command Line Interface (CLI) provides a versatile environment for executing code in multiple programming languages, offering both direct script execution and an interactive REPL (Read-Eval-Print Loop) mode. This document explains the architecture and usage of the MetaCall CLI tool."}),"\n",(0,n.jsx)(l.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,n.jsx)(l.p,{children:"The MetaCall CLI is built on top of the MetaCall Core library, providing a user-friendly interface to its polyglot functionality. The CLI architecture consists of several key components organized as plugins, allowing for modular extension of functionality."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L41-L298",children:"source/cli/metacallcli/source/application.cpp41-298"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/include/metacallcli/application.hpp#L32-L136",children:"source/cli/metacallcli/include/metacallcli/application.hpp32-136"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"command-line-modes",children:"Command Line Modes"}),"\n",(0,n.jsx)(l.p,{children:"The MetaCall CLI operates in two primary modes:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Command Mode"}),": Processes arguments passed when launching the CLI, executing scripts or specified operations"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"REPL Mode"}),": Provides an interactive environment for executing code across different languages"]}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"command-mode",children:"Command Mode"}),"\n",(0,n.jsx)(l.p,{children:"When launched with arguments, the CLI parses them and performs the requested operations. The command mode supports loading and executing scripts in various languages, as well as command-line options."}),"\n",(0,n.jsx)(l.p,{children:"The command mode automatically detects file extensions and loads the appropriate language runtime to execute the scripts."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L96-L257",children:"source/cli/metacallcli/source/application.cpp96-257"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js#L57-L107",children:"source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js57-107"})}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"repl-mode",children:"REPL Mode"}),"\n",(0,n.jsx)(l.p,{children:"When launched without arguments, the CLI enters REPL mode, providing an interactive shell for executing code across languages and MetaCall commands."}),"\n",(0,n.jsx)(l.p,{children:"The REPL environment allows users to perform operations such as loading scripts, calling functions, evaluating code snippets, and inspecting loaded modules across different programming languages."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L41-L94",children:"source/cli/metacallcli/source/application.cpp41-94"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js#L31-L149",children:"source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js31-149"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/parser.js#L1-L108",children:"source/cli/plugins/cli_repl_plugin/source/parser.js1-108"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"command-parsing-and-execution",children:"Command Parsing and Execution"}),"\n",(0,n.jsx)(l.p,{children:"The CLI uses different parsing approaches depending on the mode:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Command Mode Parser"}),": Utilizes Node.js's ",(0,n.jsx)(l.code,{children:"util.parseArgs()"})," to process command-line arguments, separating options from positional arguments."]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"REPL Mode Parser"}),": Uses a custom parser that tokenizes input based on registered command patterns, using regular expressions to match and extract parameters."]}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"command-registration-and-extension",children:"Command Registration and Extension"}),"\n",(0,n.jsx)(l.p,{children:"The CLI supports multiple commands through a registration mechanism. Commands are registered with:"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"A name"}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Optional short form (for command-line options)"}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Type information"}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Handler functions"}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js#L57-L107",children:"source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js57-107"})}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/parser.js#L1-L82",children:"source/cli/plugins/cli_repl_plugin/source/parser.js1-82"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"language-support-and-script-loading",children:"Language Support and Script Loading"}),"\n",(0,n.jsx)(l.p,{children:"The CLI supports loading and executing scripts in various programming languages. It maps file extensions to the appropriate loaders:"}),"\n",(0,n.jsxs)(l.table,{children:[(0,n.jsx)(l.thead,{children:(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.th,{children:"Extension"}),(0,n.jsx)(l.th,{children:"Language/Loader"})]})}),(0,n.jsxs)(l.tbody,{children:[(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:".py"})}),(0,n.jsx)(l.td,{children:"Python"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".js"}),", ",(0,n.jsx)(l.code,{children:".node"})]}),(0,n.jsx)(l.td,{children:"Node.js"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:".rb"})}),(0,n.jsx)(l.td,{children:"Ruby"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".cs"}),", ",(0,n.jsx)(l.code,{children:".dll"}),", ",(0,n.jsx)(l.code,{children:".vb"})]}),(0,n.jsx)(l.td,{children:"C#"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".ts"}),", ",(0,n.jsx)(l.code,{children:".jsx"}),", ",(0,n.jsx)(l.code,{children:".tsx"})]}),(0,n.jsx)(l.td,{children:"TypeScript"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".wasm"}),", ",(0,n.jsx)(l.code,{children:".wat"})]}),(0,n.jsx)(l.td,{children:"WebAssembly"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:".rs"})}),(0,n.jsx)(l.td,{children:"Rust"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".c"}),", ",(0,n.jsx)(l.code,{children:".h"})]}),(0,n.jsx)(l.td,{children:"C"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsxs)(l.td,{children:[(0,n.jsx)(l.code,{children:".java"}),", ",(0,n.jsx)(l.code,{children:".jar"})]}),(0,n.jsx)(l.td,{children:"Java"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:".rpc"})}),(0,n.jsx)(l.td,{children:"RPC"})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:"The CLI uses this mapping to automatically select the appropriate loader when executing scripts."}),(0,n.jsx)(l.td,{})]})]})]}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L305-L373",children:"source/cli/metacallcli/source/application.cpp305-373"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"plugin-system",children:"Plugin System"}),"\n",(0,n.jsx)(l.p,{children:"The MetaCall CLI uses a plugin architecture to provide extensibility. The plugin system consists of:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Internal Plugins"}),": Core functionality for the CLI"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"REPL Plugins"}),": Plugins that provide REPL mode functionality"]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.strong,{children:"Command Plugins"}),": Plugins that implement command-line options"]}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"Plugins are loaded dynamically using the MetaCall plugin system, allowing for modular extension of CLI functionality."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L375-L422",children:"source/cli/metacallcli/source/application.cpp375-422"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js#L31-L67",children:"source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js31-67"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js#L7-L54",children:"source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js7-54"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"repl-commands",children:"REPL Commands"}),"\n",(0,n.jsx)(l.p,{children:"The REPL mode provides several built-in commands for interacting with MetaCall:"}),"\n",(0,n.jsxs)(l.table,{children:[(0,n.jsx)(l.thead,{children:(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.th,{children:"Command"}),(0,n.jsx)(l.th,{children:"Description"}),(0,n.jsx)(l.th,{children:"Example"})]})}),(0,n.jsxs)(l.tbody,{children:[(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"load"})}),(0,n.jsx)(l.td,{children:"Load scripts from files"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"load py script.py other_script.py"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"inspect"})}),(0,n.jsx)(l.td,{children:"Inspect loaded modules and functions"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"inspect"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"eval"})}),(0,n.jsx)(l.td,{children:"Evaluate code in a specific language"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:'eval node console.log("hello world")'})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"call"})}),(0,n.jsx)(l.td,{children:"Call a function with parameters"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"call multiply(3, 4)"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"clear"})}),(0,n.jsx)(l.td,{children:"Clear a loaded script"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"clear py script.py"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"help"})}),(0,n.jsx)(l.td,{children:"Display help information"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"help"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"exit"})}),(0,n.jsx)(l.td,{children:"Exit the REPL"}),(0,n.jsx)(l.td,{children:(0,n.jsx)(l.code,{children:"exit"})})]}),(0,n.jsxs)(l.tr,{children:[(0,n.jsx)(l.td,{children:"The REPL provides command completion for registered commands and displays results in a user-friendly format."}),(0,n.jsx)(l.td,{}),(0,n.jsx)(l.td,{})]})]})]}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/test.js#L1-L63",children:"source/cli/plugins/cli_repl_plugin/source/test.js1-63"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"using-the-cli",children:"Using the CLI"}),"\n",(0,n.jsx)(l.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"# Launch the REPL\nmetacall\n\n# Execute a Python script\nmetacall script.py\n\n# Execute multiple scripts\nmetacall script.py script.js script.rb\n\n# Use command-line options\nmetacall --help\n"})}),"\n",(0,n.jsx)(l.h3,{id:"using-the-repl",children:"Using the REPL"}),"\n",(0,n.jsx)(l.p,{children:"Once in REPL mode, you can:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Load scripts:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"\u03bb load py script.py\n"})}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Call functions from loaded scripts:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"\u03bb call multiply(3, 4)\n"})}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Evaluate code in a specific language:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:'\u03bb eval node console.log("Hello from Node.js")\n'})}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Inspect loaded modules and functions:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"\u03bb inspect\n"})}),"\n"]}),"\n",(0,n.jsxs)(l.li,{children:["\n",(0,n.jsx)(l.p,{children:"Exit the REPL:"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{children:"\u03bb exit\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/metacallcli/source/application.cpp#L258-L298",children:"source/cli/metacallcli/source/application.cpp258-298"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js#L31-L149",children:"source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js31-149"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"integration-with-metacall-core",children:"Integration with MetaCall Core"}),"\n",(0,n.jsx)(l.p,{children:"The CLI integrates with MetaCall Core through the API, enabling it to:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsx)(l.li,{children:"Load scripts in different languages"}),"\n",(0,n.jsx)(l.li,{children:"Execute functions across language boundaries"}),"\n",(0,n.jsx)(l.li,{children:"Convert values between different language representations"}),"\n",(0,n.jsx)(l.li,{children:"Inspect loaded modules and functions"}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"This integration allows the CLI to serve as a unified interface for polyglot programming, making it easy to work with code in multiple languages simultaneously."}),"\n",(0,n.jsx)(l.p,{children:"The CLI's deep integration with MetaCall Core enables a seamless development experience across multiple programming languages."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/source/metacall.c#L259-L298",children:"source/metacall/source/metacall.c259-298"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/source/loader.c#L329-L349",children:"source/loader/source/loader.c329-349"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"extending-the-cli",children:"Extending the CLI"}),"\n",(0,n.jsx)(l.p,{children:"The CLI can be extended by creating new plugins that register additional commands or options. This can be done by:"}),"\n",(0,n.jsxs)(l.ol,{children:["\n",(0,n.jsxs)(l.li,{children:["Creating a new plugin in the appropriate directory (",(0,n.jsx)(l.code,{children:"plugins/cli/repl"})," or ",(0,n.jsx)(l.code,{children:"plugins/cli/cmd"}),")"]}),"\n",(0,n.jsx)(l.li,{children:"Implementing the plugin interface (for REPL or CMD)"}),"\n",(0,n.jsx)(l.li,{children:"Registering commands or options"}),"\n"]}),"\n",(0,n.jsx)(l.p,{children:"This allows for extending the CLI with custom functionality beyond what's provided out of the box."}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js#L152-L199",children:"source/cli/plugins/cli_repl_plugin/source/cli_repl_plugin.js152-199"})}),"\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js#L57-L76",children:"source/cli/plugins/cli_cmd_plugin/source/cli_cmd_plugin.js57-76"})}),"\n"]}),"\n",(0,n.jsx)(l.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsx)(l.p,{children:"The MetaCall CLI provides a powerful interface to the MetaCall Core functionality, enabling users to work with multiple programming languages in both script execution and interactive REPL modes. Its plugin-based architecture allows for extensibility, making it a flexible tool for polyglot programming."})]})}function h(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,l,c)=>{c.d(l,{R:()=>r,x:()=>a});var i=c(6540);const n={},s=i.createContext(n);function r(e){const l=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function a(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(s.Provider,{value:l},e.children)}}}]);