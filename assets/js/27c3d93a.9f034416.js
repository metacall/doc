"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[9409],{2958:(e,l,s)=>{s.r(l),s.d(l,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>n,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"metacall-core/serialization-and-value-system","title":"Serialization and Value System","description":"Relevant source files","source":"@site/docs/metacall-core/serialization-and-value-system.md","sourceDirName":"metacall-core","slug":"/metacall-core/serialization-and-value-system","permalink":"/doc/docs/metacall-core/serialization-and-value-system","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Serialization and Value System"},"sidebar":"tutorialSidebar","previous":{"title":"Sanitizers","permalink":"/doc/docs/metacall-core/sanitizers"},"next":{"title":"Serialization Formats","permalink":"/doc/docs/metacall-core/serialization-formats"}}');var a=s(4848),r=s(8453);const n={title:"Serialization and Value System"},t="Serialization and Value System",c={},d=[{value:"Relevant source files",id:"relevant-source-files",level:2},{value:"Purpose and Scope",id:"purpose-and-scope",level:2},{value:"Value System Architecture",id:"value-system-architecture",level:2},{value:"Value Structure",id:"value-structure",level:3},{value:"Supported Value Types",id:"supported-value-types",level:3},{value:"Value API",id:"value-api",level:3},{value:"Serialization System",id:"serialization-system",level:2},{value:"Serialization Formats",id:"serialization-formats",level:3},{value:"Serialization Process",id:"serialization-process",level:3},{value:"Deserialization Process",id:"deserialization-process",level:3},{value:"Serialization API",id:"serialization-api",level:3},{value:"Integration with MetaCall Core",id:"integration-with-metacall-core",level:2},{value:"Value System in Function Calls",id:"value-system-in-function-calls",level:3},{value:"Serialized Function Calls",id:"serialized-function-calls",level:3},{value:"API Reference",id:"api-reference",level:2},{value:"Value Creation and Conversion",id:"value-creation-and-conversion",level:3},{value:"Serialization",id:"serialization",level:3},{value:"Best Practices",id:"best-practices",level:2}];function o(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.header,{children:(0,a.jsx)(l.h1,{id:"serialization-and-value-system",children:"Serialization and Value System"})}),"\n",(0,a.jsx)(l.h2,{id:"relevant-source-files",children:"Relevant source files"}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/cmake/FindV8.cmake",children:"cmake/FindV8.cmake"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader.h",children:"source/loader/include/loader/loader.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader_impl.h",children:"source/loader/include/loader/loader_impl.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/include/loader/loader_impl_interface.h",children:"source/loader/include/loader/loader_impl_interface.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/source/loader.c",children:"source/loader/source/loader.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loader/source/loader_impl.c",children:"source/loader/source/loader_impl.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/include/metacall/metacall.h",children:"source/metacall/include/metacall/metacall.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/include/metacall/metacall_value.h",children:"source/metacall/include/metacall/metacall_value.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/source/metacall.c",children:"source/metacall/source/metacall.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/metacall/source/metacall_value.c",children:"source/metacall/source/metacall_value.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/include/reflect/reflect_type_id.h",children:"source/reflect/include/reflect/reflect_type_id.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/include/reflect/reflect_value_type.h",children:"source/reflect/include/reflect/reflect_value_type.h"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/source/reflect_type_id.c",children:"source/reflect/source/reflect_type_id.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/source/reflect_value_type.c",children:"source/reflect/source/reflect_value_type.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/source/reflect_value_type_cast.c",children:"source/reflect/source/reflect_value_type_cast.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/reflect/source/reflect_value_type_id_size.c",children:"source/reflect/source/reflect_value_type_id_size.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/serials/metacall_serial/source/metacall_serial_impl_serialize.c",children:"source/serials/metacall_serial/source/metacall_serial_impl_serialize.c"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/serials/rapid_json_serial/source/rapid_json_serial_impl.cpp",children:"source/serials/rapid_json_serial/source/rapid_json_serial_impl.cpp"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/metacall_test/source/metacall_test.cpp",children:"source/tests/metacall_test/source/metacall_test.cpp"})}),"\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/serial_test/source/serial_test.cpp",children:"source/tests/serial_test/source/serial_test.cpp"})}),"\n"]}),"\n",(0,a.jsx)(l.p,{children:"The MetaCall Serialization and Value System provides a unified way to represent and convert data between different programming languages, as well as serialize and deserialize this data for storage or transmission. This is a core component of MetaCall that enables seamless cross-language interoperability."}),"\n",(0,a.jsx)(l.h2,{id:"purpose-and-scope",children:"Purpose and Scope"}),"\n",(0,a.jsx)(l.p,{children:"This document covers:"}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsx)(l.li,{children:"The value representation system used by MetaCall to work with data across language boundaries"}),"\n",(0,a.jsx)(l.li,{children:"The serialization mechanisms that convert between MetaCall values and serialized formats"}),"\n",(0,a.jsx)(l.li,{children:"The API for working with values and serialization in MetaCall"}),"\n"]}),"\n",(0,a.jsxs)(l.p,{children:["For information about how values are used in function calls, see ",(0,a.jsx)(l.a,{href:"/doc/docs/metacall-core/core-api",children:"Core API"}),". For information about language-specific type conversion, see ",(0,a.jsx)(l.a,{href:"/doc/docs/metacall-core/loaders",children:"Loaders"}),"."]}),"\n",(0,a.jsx)(l.h2,{id:"value-system-architecture",children:"Value System Architecture"}),"\n",(0,a.jsx)(l.h3,{id:"value-structure",children:"Value Structure"}),"\n",(0,a.jsxs)(l.p,{children:["In MetaCall, values are represented using an opaque pointer type called ",(0,a.jsx)(l.code,{children:"value"}),". Each value internally consists of:"]}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Data Section"}),": Contains the actual value data (e.g., integers, strings, arrays)"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Type Header Section"}),": Contains a ",(0,a.jsx)(l.code,{children:"type_id"})," that identifies the type of value"]}),"\n"]}),"\n",(0,a.jsx)(l.p,{children:"This design allows MetaCall to:"}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsx)(l.li,{children:"Store any type of data in a unified container"}),"\n",(0,a.jsx)(l.li,{children:"Determine the type of value at runtime"}),"\n",(0,a.jsx)(l.li,{children:"Convert between different value types when appropriate"}),"\n"]}),"\n",(0,a.jsx)(l.p,{children:"The value memory layout is:"}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{children:"+----------------+-------------+\n| Data (n bytes) | type_id (4) |\n+----------------+-------------+\n"})}),"\n",(0,a.jsx)(l.h3,{id:"supported-value-types",children:"Supported Value Types"}),"\n",(0,a.jsx)(l.p,{children:"MetaCall supports a wide range of value types to accommodate different programming languages:"}),"\n",(0,a.jsxs)(l.table,{children:[(0,a.jsx)(l.thead,{children:(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.th,{children:"Type ID"}),(0,a.jsx)(l.th,{children:"C Type"}),(0,a.jsx)(l.th,{children:"Description"})]})}),(0,a.jsxs)(l.tbody,{children:[(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_BOOL"}),(0,a.jsx)(l.td,{children:"boolean"}),(0,a.jsx)(l.td,{children:"Boolean value (0 or 1)"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_CHAR"}),(0,a.jsx)(l.td,{children:"char"}),(0,a.jsx)(l.td,{children:"Single character"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_SHORT"}),(0,a.jsx)(l.td,{children:"short"}),(0,a.jsx)(l.td,{children:"16-bit integer"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_INT"}),(0,a.jsx)(l.td,{children:"int"}),(0,a.jsx)(l.td,{children:"32-bit integer"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_LONG"}),(0,a.jsx)(l.td,{children:"long"}),(0,a.jsx)(l.td,{children:"64-bit integer"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_FLOAT"}),(0,a.jsx)(l.td,{children:"float"}),(0,a.jsx)(l.td,{children:"Single-precision floating-point"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_DOUBLE"}),(0,a.jsx)(l.td,{children:"double"}),(0,a.jsx)(l.td,{children:"Double-precision floating-point"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_STRING"}),(0,a.jsx)(l.td,{children:"char*"}),(0,a.jsx)(l.td,{children:"Null-terminated string"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_BUFFER"}),(0,a.jsx)(l.td,{children:"void*"}),(0,a.jsx)(l.td,{children:"Binary data buffer"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_ARRAY"}),(0,a.jsx)(l.td,{children:"value*"}),(0,a.jsx)(l.td,{children:"Array of values"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_MAP"}),(0,a.jsx)(l.td,{children:"value*"}),(0,a.jsx)(l.td,{children:"Key-value pairs (as array of tuples)"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_PTR"}),(0,a.jsx)(l.td,{children:"void*"}),(0,a.jsx)(l.td,{children:"Generic pointer"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_FUNCTION"}),(0,a.jsx)(l.td,{children:"function"}),(0,a.jsx)(l.td,{children:"Function handle"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_NULL"}),(0,a.jsx)(l.td,{children:"NULL"}),(0,a.jsx)(l.td,{children:"Null value"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_CLASS"}),(0,a.jsx)(l.td,{children:"klass"}),(0,a.jsx)(l.td,{children:"Class definition"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_OBJECT"}),(0,a.jsx)(l.td,{children:"object"}),(0,a.jsx)(l.td,{children:"Object instance"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_EXCEPTION"}),(0,a.jsx)(l.td,{children:"exception"}),(0,a.jsx)(l.td,{children:"Exception object"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:"TYPE_THROWABLE"}),(0,a.jsx)(l.td,{children:"throwable"}),(0,a.jsx)(l.td,{children:"Wrapped exception"})]})]})]}),"\n",(0,a.jsx)(l.h3,{id:"value-api",children:"Value API"}),"\n",(0,a.jsx)(l.p,{children:"The Value API provides functions for creating, accessing, converting, and managing values:"}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsxs)(l.li,{children:["\n",(0,a.jsxs)(l.p,{children:[(0,a.jsx)(l.strong,{children:"Creation Functions"}),": ",(0,a.jsx)(l.code,{children:"value_create_*"})," / ",(0,a.jsx)(l.code,{children:"metacall_value_create_*"})]}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsxs)(l.li,{children:["Create values of specific types (e.g., ",(0,a.jsx)(l.code,{children:"metacall_value_create_int(5)"}),")"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(l.li,{children:["\n",(0,a.jsxs)(l.p,{children:[(0,a.jsx)(l.strong,{children:"Conversion Functions"}),": ",(0,a.jsx)(l.code,{children:"value_to_*"})," / ",(0,a.jsx)(l.code,{children:"metacall_value_to_*"})]}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsxs)(l.li,{children:["Extract data from values in specific types (e.g., ",(0,a.jsx)(l.code,{children:"metacall_value_to_int(v)"}),")"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(l.li,{children:["\n",(0,a.jsxs)(l.p,{children:[(0,a.jsx)(l.strong,{children:"Type Information"}),": ",(0,a.jsx)(l.code,{children:"value_type_id"})," / ",(0,a.jsx)(l.code,{children:"metacall_value_id"})]}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsx)(l.li,{children:"Get the type ID of a value"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(l.li,{children:["\n",(0,a.jsxs)(l.p,{children:[(0,a.jsx)(l.strong,{children:"Value Operations"}),":"]}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.code,{children:"value_type_copy"})," / ",(0,a.jsx)(l.code,{children:"metacall_value_copy"}),": Deep copy a value"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.code,{children:"value_type_cast"})," / ",(0,a.jsx)(l.code,{children:"metacall_value_cast"}),": Convert between value types"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.code,{children:"metacall_value_destroy"}),": Free memory used by a value"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(l.h2,{id:"serialization-system",children:"Serialization System"}),"\n",(0,a.jsx)(l.p,{children:"The Serialization System provides a bridge between MetaCall's internal value representation and various serialized formats like JSON. This enables:"}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Data Exchange"}),": Transfer data between different systems"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Persistence"}),": Store values in a standardized format"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Function Calls"}),": Pass arguments to functions as serialized strings"]}),"\n"]}),"\n",(0,a.jsx)(l.h3,{id:"serialization-formats",children:"Serialization Formats"}),"\n",(0,a.jsxs)(l.p,{children:["MetaCall uses a plugin-based approach for serialization, with the default implementation being RapidJSON. The default format can be accessed using ",(0,a.jsx)(l.code,{children:"metacall_serial()"}),", which returns ",(0,a.jsx)(l.code,{children:'"rapid_json"'}),"."]}),"\n",(0,a.jsx)(l.h3,{id:"serialization-process",children:"Serialization Process"}),"\n",(0,a.jsx)(l.p,{children:"The serialization process maps MetaCall values to appropriate representations in the target format:"}),"\n",(0,a.jsx)(l.p,{children:"For compound types:"}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Arrays"})," are serialized as JSON arrays"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Maps"})," are serialized as JSON objects"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Complex objects"})," (functions, classes) are serialized to descriptive strings"]}),"\n"]}),"\n",(0,a.jsx)(l.h3,{id:"deserialization-process",children:"Deserialization Process"}),"\n",(0,a.jsx)(l.p,{children:"Deserialization converts serialized data back into MetaCall values, with type detection based on the serialized format:"}),"\n",(0,a.jsx)(l.h3,{id:"serialization-api",children:"Serialization API"}),"\n",(0,a.jsx)(l.p,{children:"The key functions in the serialization API are:"}),"\n",(0,a.jsxs)(l.table,{children:[(0,a.jsx)(l.thead,{children:(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.th,{children:"Function"}),(0,a.jsx)(l.th,{children:"Description"})]})}),(0,a.jsxs)(l.tbody,{children:[(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:(0,a.jsx)(l.code,{children:"metacall_serialize(const char *name, void *v, size_t *size, void *allocator)"})}),(0,a.jsx)(l.td,{children:"Serialize a value to a string using the specified format"})]}),(0,a.jsxs)(l.tr,{children:[(0,a.jsx)(l.td,{children:(0,a.jsx)(l.code,{children:"metacall_deserialize(const char *name, const char *buffer, size_t size, void *allocator)"})}),(0,a.jsx)(l.td,{children:"Deserialize a string into a value using the specified format"})]})]})]}),"\n",(0,a.jsx)(l.h2,{id:"integration-with-metacall-core",children:"Integration with MetaCall Core"}),"\n",(0,a.jsx)(l.p,{children:"The Serialization and Value System is a fundamental part of MetaCall's architecture, enabling cross-language function calls by providing:"}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Common Value Representation"}),": A unified way to represent data from different languages"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Type Conversion"}),": Converting between language-specific types and MetaCall values"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Function Call Serialization"}),": Passing function arguments as serialized strings"]}),"\n"]}),"\n",(0,a.jsx)(l.h3,{id:"value-system-in-function-calls",children:"Value System in Function Calls"}),"\n",(0,a.jsx)(l.p,{children:"When calling functions across language boundaries, MetaCall uses the value system to:"}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsx)(l.li,{children:"Convert input arguments to MetaCall values"}),"\n",(0,a.jsx)(l.li,{children:"Call the function with these values"}),"\n",(0,a.jsx)(l.li,{children:"Convert the return value back to the caller's language"}),"\n"]}),"\n",(0,a.jsx)(l.h3,{id:"serialized-function-calls",children:"Serialized Function Calls"}),"\n",(0,a.jsxs)(l.p,{children:["MetaCall also supports calling functions with serialized arguments using the ",(0,a.jsx)(l.code,{children:"metacallfs"})," and ",(0,a.jsx)(l.code,{children:"metacallfms"})," functions:"]}),"\n",(0,a.jsx)(l.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,a.jsx)(l.h3,{id:"value-creation-and-conversion",children:"Value Creation and Conversion"}),"\n",(0,a.jsx)(l.h3,{id:"serialization",children:"Serialization"}),"\n",(0,a.jsx)(l.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,a.jsxs)(l.ol,{children:["\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Memory Management"}),": Always destroy values with ",(0,a.jsx)(l.code,{children:"metacall_value_destroy"})," when you're done with them"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Type Safety"}),": Check the value type with ",(0,a.jsx)(l.code,{children:"metacall_value_id"})," before conversion"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Serialization Error Handling"}),": Check for NULL returns from serialization/deserialization functions"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Value Copying"}),": Use ",(0,a.jsx)(l.code,{children:"metacall_value_copy"})," when you need to keep a value beyond its original scope"]}),"\n",(0,a.jsxs)(l.li,{children:[(0,a.jsx)(l.strong,{children:"Performance"}),": Avoid unnecessary serialization/deserialization when possible"]}),"\n"]}),"\n",(0,a.jsxs)(l.p,{children:["Sources: ",(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/metacall_test/source/metacall_test.cpp",children:"source/tests/metacall_test/source/metacall_test.cpp"})," ",(0,a.jsx)(l.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/serial_test/source/serial_test.cpp",children:"source/tests/serial_test/source/serial_test.cpp"})]})]})}function h(e={}){const{wrapper:l}={...(0,r.R)(),...e.components};return l?(0,a.jsx)(l,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,l,s)=>{s.d(l,{R:()=>n,x:()=>t});var i=s(6540);const a={},r=i.createContext(a);function n(e){const l=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function t(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),i.createElement(r.Provider,{value:l},e.children)}}}]);