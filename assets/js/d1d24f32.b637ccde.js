"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[8657],{8453:(e,i,l)=>{l.d(i,{R:()=>r,x:()=>n});var s=l(6540);const d={},t=s.createContext(d);function r(e){const i=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function n(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(t.Provider,{value:i},e.children)}},9007:(e,i,l)=>{l.r(i),l.d(i,{assets:()=>c,contentTitle:()=>n,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"metacall-core/build-configuration","title":"Build Configuration","description":"Relevant source files","source":"@site/docs/metacall-core/build-configuration.md","sourceDirName":"metacall-core","slug":"/metacall-core/build-configuration","permalink":"/doc/docs/metacall-core/build-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Build Configuration"},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/doc/docs/metacall-core/architecture"},"next":{"title":"Build System","permalink":"/doc/docs/metacall-core/build-system"}}');var d=l(4848),t=l(8453);const r={title:"Build Configuration"},n="Build Configuration",c={},o=[{value:"Relevant source files",id:"relevant-source-files",level:2},{value:"Overview",id:"overview",level:2},{value:"Configuration Scripts",id:"configuration-scripts",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Build Options",id:"build-options",level:2},{value:"Build Types",id:"build-types",level:3},{value:"Language Support Options",id:"language-support-options",level:3},{value:"Component Options",id:"component-options",level:3},{value:"Advanced Options",id:"advanced-options",level:3},{value:"CMake Configuration",id:"cmake-configuration",level:2},{value:"Direct CMake Configuration",id:"direct-cmake-configuration",level:3},{value:"Platform-Specific Considerations",id:"platform-specific-considerations",level:2},{value:"Linux/macOS",id:"linuxmacos",level:3},{value:"Windows",id:"windows",level:3},{value:"Examples",id:"examples",level:2},{value:"Basic Development Build",id:"basic-development-build",level:3},{value:"Comprehensive Development Build",id:"comprehensive-development-build",level:3},{value:"Production Build",id:"production-build",level:3},{value:"Working with Docker",id:"working-with-docker",level:2},{value:"Configuration Variables",id:"configuration-variables",level:2},{value:"Sanitizer Support",id:"sanitizer-support",level:2}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.header,{children:(0,d.jsx)(i.h1,{id:"build-configuration",children:"Build Configuration"})}),"\n",(0,d.jsx)(i.h2,{id:"relevant-source-files",children:"Relevant source files"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.env",children:".env"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/benchmark.yml",children:".github/workflows/benchmark.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/clang-format.yml",children:".github/workflows/clang-format.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/docker-hub.yml",children:".github/workflows/docker-hub.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/linux-test.yml",children:".github/workflows/linux-test.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/macos-test.yml",children:".github/workflows/macos-test.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/release.yml",children:".github/workflows/release.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/windows-test.yml",children:".github/workflows/windows-test.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/CMakeLists.txt",children:"CMakeLists.txt"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/README.md",children:"README.md"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/deploy/images/overview.png",children:"deploy/images/overview.png"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/docker-compose.platform.yml",children:"docker-compose.platform.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/docker-compose.yml",children:"docker-compose.yml"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/docs/README.md",children:"docs/README.md"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/CMakeLists.txt",children:"source/CMakeLists.txt"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/CMakeLists.txt",children:"source/loaders/CMakeLists.txt"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/scripts/python/CMakeLists.txt",children:"source/scripts/python/CMakeLists.txt"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/CMakeLists.txt",children:"source/tests/CMakeLists.txt"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-benchmarks-merge.py",children:"tools/metacall-benchmarks-merge.py"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-build.ps1",children:"tools/metacall-build.ps1"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-build.sh",children:"tools/metacall-build.sh"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-configure.ps1",children:"tools/metacall-configure.ps1"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-configure.sh",children:"tools/metacall-configure.sh"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-environment.ps1",children:"tools/metacall-environment.ps1"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-environment.sh",children:"tools/metacall-environment.sh"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-runtime.sh",children:"tools/metacall-runtime.sh"})}),"\n",(0,d.jsx)(i.li,{children:(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-sanitizer.sh",children:"tools/metacall-sanitizer.sh"})}),"\n"]}),"\n",(0,d.jsx)(i.p,{children:"This page describes how to configure the MetaCall Core build system to enable different features, language loaders, and build options. It explains the various configuration scripts, available options, and how to customize your build based on your requirements."}),"\n",(0,d.jsxs)(i.p,{children:["For information about build system prerequisites, see ",(0,d.jsx)(i.a,{href:"/doc/docs/metacall-core/prerequisites",children:"Prerequisites"}),". For Docker-based builds, see ",(0,d.jsx)(i.a,{href:"/doc/docs/metacall-core/docker-builds",children:"Docker Builds"}),"."]}),"\n",(0,d.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(i.p,{children:"MetaCall's build configuration system allows you to customize which language runtimes, loaders, and features are included in your build. The configuration process works on multiple platforms (Linux, macOS, Windows) and provides a consistent interface across these environments."}),"\n",(0,d.jsx)(i.h2,{id:"configuration-scripts",children:"Configuration Scripts"}),"\n",(0,d.jsx)(i.p,{children:"MetaCall provides platform-specific scripts for configuring the build:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Platform"}),(0,d.jsx)(i.th,{children:"Script"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Linux/macOS"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"tools/metacall-configure.sh"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Windows"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"tools/metacall-configure.ps1"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"These scripts provide a simplified interface to the underlying CMake build system, allowing you to easily enable or disable various features."}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,d.jsx)(i.p,{children:"The configuration scripts accept a list of space-separated options that control what features and language loaders will be included in the build."}),"\n",(0,d.jsx)(i.h2,{id:"build-options",children:"Build Options"}),"\n",(0,d.jsx)(i.h3,{id:"build-types",children:"Build Types"}),"\n",(0,d.jsx)(i.p,{children:"MetaCall supports different build types that control optimization and debugging features:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Build Type"}),(0,d.jsx)(i.th,{children:"Description"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"debug"})}),(0,d.jsx)(i.td,{children:"Debug build with all debug symbols and no optimization"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"release"})}),(0,d.jsx)(i.td,{children:"Release build with optimizations and no debug symbols"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"relwithdebinfo"})}),(0,d.jsx)(i.td,{children:"Release build with optimizations and debug symbols"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Example usage:"}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h3,{id:"language-support-options",children:"Language Support Options"}),"\n",(0,d.jsx)(i.p,{children:"Each supported language has a corresponding build option to enable its loader:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Option"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Default"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"python"})}),(0,d.jsx)(i.td,{children:"Enable Python loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"ruby"})}),(0,d.jsx)(i.td,{children:"Enable Ruby loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"nodejs"})}),(0,d.jsx)(i.td,{children:"Enable Node.js loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"typescript"})}),(0,d.jsx)(i.td,{children:"Enable TypeScript loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"netcore"})}),(0,d.jsx)(i.td,{children:"Enable .NET Core 1.x loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"netcore2"})}),(0,d.jsx)(i.td,{children:"Enable .NET Core 2.x loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"netcore5"})}),(0,d.jsx)(i.td,{children:"Enable .NET Core 5.x loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"netcore7"})}),(0,d.jsx)(i.td,{children:"Enable .NET Core 7.x loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"java"})}),(0,d.jsx)(i.td,{children:"Enable Java loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"c"})}),(0,d.jsx)(i.td,{children:"Enable C loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"cobol"})}),(0,d.jsx)(i.td,{children:"Enable COBOL loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"file"})}),(0,d.jsx)(i.td,{children:"Enable File loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"rpc"})}),(0,d.jsx)(i.td,{children:"Enable RPC loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"wasm"})}),(0,d.jsx)(i.td,{children:"Enable WebAssembly loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"rust"})}),(0,d.jsx)(i.td,{children:"Enable Rust loader"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"go"})}),(0,d.jsx)(i.td,{children:"Enable Go port support (loader not available yet)"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Example usage:"}),(0,d.jsx)(i.td,{}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h3,{id:"component-options",children:"Component Options"}),"\n",(0,d.jsx)(i.p,{children:"The following options control which components of the MetaCall system are built:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Option"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Default"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"scripts"})}),(0,d.jsx)(i.td,{children:"Build script examples"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"examples"})}),(0,d.jsx)(i.td,{children:"Build example applications"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"tests"})}),(0,d.jsx)(i.td,{children:"Build and run tests"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"benchmarks"})}),(0,d.jsx)(i.td,{children:"Build and run benchmarks"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"ports"})}),(0,d.jsx)(i.td,{children:"Build language ports (frontends)"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"install"})}),(0,d.jsx)(i.td,{children:"Install after building"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Example usage:"}),(0,d.jsx)(i.td,{}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h3,{id:"advanced-options",children:"Advanced Options"}),"\n",(0,d.jsx)(i.p,{children:"MetaCall offers additional advanced build options:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Option"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Default"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"sandbox"})}),(0,d.jsx)(i.td,{children:"Enable sandboxing support"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"coverage"})}),(0,d.jsx)(i.td,{children:"Enable code coverage reporting"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"address-sanitizer"})}),(0,d.jsx)(i.td,{children:"Build with AddressSanitizer"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"thread-sanitizer"})}),(0,d.jsx)(i.td,{children:"Build with ThreadSanitizer"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"memory-sanitizer"})}),(0,d.jsx)(i.td,{children:"Build with MemorySanitizer"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"Example usage:"}),(0,d.jsx)(i.td,{}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"cmake-configuration",children:"CMake Configuration"}),"\n",(0,d.jsx)(i.p,{children:"The configuration scripts ultimately generate CMake configuration. The options are translated into CMake variables that configure the build system."}),"\n",(0,d.jsx)(i.h3,{id:"direct-cmake-configuration",children:"Direct CMake Configuration"}),"\n",(0,d.jsx)(i.p,{children:"For advanced users, it's possible to configure MetaCall directly using CMake instead of the configuration scripts:"}),"\n",(0,d.jsx)(i.p,{children:"The following table shows common CMake options:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"CMake Option"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Default"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_TESTS"})}),(0,d.jsx)(i.td,{children:"Build tests"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_BENCHMARKS"})}),(0,d.jsx)(i.td,{children:"Build benchmarks"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_EXAMPLES"})}),(0,d.jsx)(i.td,{children:"Build examples"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_CLI"})}),(0,d.jsx)(i.td,{children:"Build CLI tools"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_LOADERS"})}),(0,d.jsx)(i.td,{children:"Build loaders"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_EXTENSIONS"})}),(0,d.jsx)(i.td,{children:"Build extensions"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_SCRIPTS"})}),(0,d.jsx)(i.td,{children:"Build scripts"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_SERIALS"})}),(0,d.jsx)(i.td,{children:"Build serials"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_DETOURS"})}),(0,d.jsx)(i.td,{children:"Build detours"}),(0,d.jsx)(i.td,{children:"ON"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_BUILD_PORTS"})}),(0,d.jsx)(i.td,{children:"Build ports"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_THREAD_SAFE"})}),(0,d.jsx)(i.td,{children:"Enable thread safety"}),(0,d.jsx)(i.td,{children:"OFF"})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"OPTION_FORK_SAFE"})}),(0,d.jsx)(i.td,{children:"Enable fork safety"}),(0,d.jsx)(i.td,{children:"ON"})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"platform-specific-considerations",children:"Platform-Specific Considerations"}),"\n",(0,d.jsx)(i.h3,{id:"linuxmacos",children:"Linux/macOS"}),"\n",(0,d.jsx)(i.p,{children:"On Linux and macOS, the configuration process is handled by shell scripts:"}),"\n",(0,d.jsxs)(i.p,{children:["The configuration creates a ",(0,d.jsx)(i.code,{children:"build"})," directory with all necessary CMake files."]}),"\n",(0,d.jsx)(i.h3,{id:"windows",children:"Windows"}),"\n",(0,d.jsx)(i.p,{children:"On Windows, the configuration process is handled by PowerShell scripts:"}),"\n",(0,d.jsxs)(i.p,{children:["The environment script also creates a ",(0,d.jsx)(i.code,{children:"CMakeConfig.txt"})," file that is used during configuration to set additional platform-specific paths."]}),"\n",(0,d.jsx)(i.h2,{id:"examples",children:"Examples"}),"\n",(0,d.jsx)(i.h3,{id:"basic-development-build",children:"Basic Development Build"}),"\n",(0,d.jsx)(i.p,{children:"For a basic development build with Python and Node.js support:"}),"\n",(0,d.jsx)(i.h3,{id:"comprehensive-development-build",children:"Comprehensive Development Build"}),"\n",(0,d.jsx)(i.p,{children:"For a development build with multiple language support and testing:"}),"\n",(0,d.jsx)(i.h3,{id:"production-build",children:"Production Build"}),"\n",(0,d.jsx)(i.p,{children:"For a production-ready build with optimizations:"}),"\n",(0,d.jsx)(i.h2,{id:"working-with-docker",children:"Working with Docker"}),"\n",(0,d.jsxs)(i.p,{children:["MetaCall also supports building with Docker, which simplifies the environment setup process. The repository includes ",(0,d.jsx)(i.code,{children:"docker-compose.yml"})," for building in different configurations:"]}),"\n",(0,d.jsx)(i.p,{children:"This approach is especially useful for CI/CD environments or when you want to ensure a consistent build environment."}),"\n",(0,d.jsx)(i.h2,{id:"configuration-variables",children:"Configuration Variables"}),"\n",(0,d.jsx)(i.p,{children:"When the build is configured, several environment variables are set that control the runtime behavior of MetaCall:"}),"\n",(0,d.jsxs)(i.table,{children:[(0,d.jsx)(i.thead,{children:(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.th,{children:"Variable"}),(0,d.jsx)(i.th,{children:"Description"}),(0,d.jsx)(i.th,{children:"Default Value"})]})}),(0,d.jsxs)(i.tbody,{children:[(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"LOADER_LIBRARY_PATH"})}),(0,d.jsx)(i.td,{children:"Path to loader plugins"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"LOADER_SCRIPT_PATH"})}),(0,d.jsx)(i.td,{children:"Path to scripts"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}/scripts"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"CONFIGURATION_PATH"})}),(0,d.jsx)(i.td,{children:"Path to configuration file"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}/configurations/global.json"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"SERIAL_LIBRARY_PATH"})}),(0,d.jsx)(i.td,{children:"Path to serial plugins"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"DETOUR_LIBRARY_PATH"})}),(0,d.jsx)(i.td,{children:"Path to detour plugins"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"PORT_LIBRARY_PATH"})}),(0,d.jsx)(i.td,{children:"Path to port libraries"}),(0,d.jsx)(i.td,{children:(0,d.jsx)(i.code,{children:"${CMAKE_BINARY_DIR}"})})]}),(0,d.jsxs)(i.tr,{children:[(0,d.jsx)(i.td,{children:"These variables are automatically set during the build process but can be overridden for custom installations."}),(0,d.jsx)(i.td,{}),(0,d.jsx)(i.td,{})]})]})]}),"\n",(0,d.jsx)(i.h2,{id:"sanitizer-support",children:"Sanitizer Support"}),"\n",(0,d.jsx)(i.p,{children:"MetaCall supports various sanitizers for debugging and detecting runtime issues:"}),"\n",(0,d.jsx)(i.p,{children:"The sanitizers help identify memory leaks, data races, and other runtime issues during development and testing."}),"\n",(0,d.jsxs)(i.p,{children:["Sources: ",(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/tools/metacall-sanitizer.sh",children:"tools/metacall-sanitizer.sh"})," ",(0,d.jsx)(i.a,{href:"https://github.com/metacall/core/blob/af9cad19/.github/workflows/linux-test.yml#L45-L68",children:".github/workflows/linux-test.yml45-68"})]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,d.jsx)(i,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}}}]);