"use strict";(globalThis.webpackChunkmetacall_doc=globalThis.webpackChunkmetacall_doc||[]).push([[9330],{5950:(e,r,l)=>{l.r(r),l.d(r,{assets:()=>i,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>c});const d=JSON.parse('{"id":"metacall-core/loaders","title":"Loaders","description":"Relevant source files","source":"@site/docs/metacall-core/loaders.md","sourceDirName":"metacall-core","slug":"/metacall-core/loaders","permalink":"/doc/docs/metacall-core/loaders","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Loaders"},"sidebar":"tutorialSidebar","previous":{"title":"Loader System","permalink":"/doc/docs/metacall-core/loader-system"},"next":{"title":"Loading Code","permalink":"/doc/docs/metacall-core/loading-code"}}');var n=l(4848),s=l(8453);const o={title:"Loaders"},a="Loaders",i={},c=[{value:"Relevant source files",id:"relevant-source-files",level:2},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Loader Interface",id:"loader-interface",level:2},{value:"Interface Functions",id:"interface-functions",level:3},{value:"Loader Manager",id:"loader-manager",level:2},{value:"Supported Loaders",id:"supported-loaders",level:2},{value:"Node.js Loader",id:"nodejs-loader",level:3},{value:"Value Conversion",id:"value-conversion",level:4},{value:"Python Loader",id:"python-loader",level:3},{value:"Ruby Loader",id:"ruby-loader",level:3},{value:"C# Loader",id:"c-loader",level:3},{value:"TypeScript Loader",id:"typescript-loader",level:3},{value:"C Loader",id:"c-loader-1",level:3},{value:"Cross-Language Function Calls",id:"cross-language-function-calls",level:2},{value:"Asynchronous Function Calls",id:"asynchronous-function-calls",level:2},{value:"Building and Configuring Loaders",id:"building-and-configuring-loaders",level:2},{value:"Loader Configuration",id:"loader-configuration",level:2},{value:"Creating Custom Loaders",id:"creating-custom-loaders",level:2}];function t(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"loaders",children:"Loaders"})}),"\n",(0,n.jsx)(r.h2,{id:"relevant-source-files",children:"Relevant source files"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/cmake/CompileOptions.cmake",children:"cmake/CompileOptions.cmake"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/cmake/FindNodeJS.cmake",children:"cmake/FindNodeJS.cmake"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/deploy/CMakeLists.txt",children:"deploy/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/c_loader/CMakeLists.txt",children:"source/loaders/c_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/cs_loader/CMakeLists.txt",children:"source/loaders/cs_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/file_loader/CMakeLists.txt",children:"source/loaders/file_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/js_loader/CMakeLists.txt",children:"source/loaders/js_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/jsm_loader/CMakeLists.txt",children:"source/loaders/jsm_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/mock_loader/CMakeLists.txt",children:"source/loaders/mock_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/CMakeLists.txt",children:"source/loaders/node_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/bootstrap/lib/bootstrap.js",children:"source/loaders/node_loader/bootstrap/lib/bootstrap.js"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/include/node_loader/node_loader_impl.h",children:"source/loaders/node_loader/include/node_loader/node_loader_impl.h"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/include/node_loader/node_loader_trampoline.h",children:"source/loaders/node_loader/include/node_loader/node_loader_trampoline.h"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/source/node_loader_impl.cpp",children:"source/loaders/node_loader/source/node_loader_impl.cpp"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/source/node_loader_port.cpp",children:"source/loaders/node_loader/source/node_loader_port.cpp"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/node_loader/source/node_loader_trampoline.cpp",children:"source/loaders/node_loader/source/node_loader_trampoline.cpp"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/py_loader/CMakeLists.txt",children:"source/loaders/py_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/py_loader/include/py_loader/py_loader_dict.h",children:"source/loaders/py_loader/include/py_loader/py_loader_dict.h"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/py_loader/source/py_loader_dict.c",children:"source/loaders/py_loader/source/py_loader_dict.c"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/rb_loader/CMakeLists.txt",children:"source/loaders/rb_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/ts_loader/CMakeLists.txt",children:"source/loaders/ts_loader/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/loaders/ts_loader/bootstrap/lib/bootstrap.ts",children:"source/loaders/ts_loader/bootstrap/lib/bootstrap.ts"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/serials/metacall_serial/CMakeLists.txt",children:"source/serials/metacall_serial/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/serials/rapid_json_serial/CMakeLists.txt",children:"source/serials/rapid_json_serial/CMakeLists.txt"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"https://github.com/metacall/core/blob/af9cad19/source/tests/metacall_node_async_test/source/metacall_node_async_test.cpp",children:"source/tests/metacall_node_async_test/source/metacall_node_async_test.cpp"})}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"Loaders are a fundamental component of the MetaCall system, responsible for loading and executing code from different programming languages. Each loader acts as a bridge between the MetaCall Core and a specific language runtime, enabling cross-language function calls. This document provides a detailed overview of the loader architecture, implementation, and the various language loaders supported by MetaCall."}),"\n",(0,n.jsxs)(r.p,{children:["For information about Ports (which enable using MetaCall from within a specific language), see ",(0,n.jsx)(r.a,{href:"/doc/docs/metacall-core/ports",children:"Ports"}),"."]}),"\n",(0,n.jsx)(r.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,n.jsx)(r.h2,{id:"loader-interface",children:"Loader Interface"}),"\n",(0,n.jsxs)(r.p,{children:["All loaders implement a common interface defined in the loader implementation interface (",(0,n.jsx)(r.code,{children:"loader_impl_interface"}),"). This standardized interface enables MetaCall to interact with various language runtimes in a consistent manner."]}),"\n",(0,n.jsx)(r.h3,{id:"interface-functions",children:"Interface Functions"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Function"}),(0,n.jsx)(r.th,{children:"Purpose"}),(0,n.jsx)(r.th,{children:"Parameters"}),(0,n.jsx)(r.th,{children:"Return Value"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"initialize"})}),(0,n.jsx)(r.td,{children:"Initialize the loader with configuration"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, configuration config"})}),(0,n.jsx)(r.td,{children:"Pointer to loader data"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"execution_path"})}),(0,n.jsx)(r.td,{children:"Add a path to runtime's search paths"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, const loader_path path"})}),(0,n.jsx)(r.td,{children:"0 on success, non-zero on failure"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"load_from_file"})}),(0,n.jsx)(r.td,{children:"Load code from file(s)"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, const loader_path paths[], size_t size"})}),(0,n.jsx)(r.td,{children:"Handle to loaded code"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"load_from_memory"})}),(0,n.jsx)(r.td,{children:"Load code from memory buffer"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, const loader_name name, const char *buffer, size_t size"})}),(0,n.jsx)(r.td,{children:"Handle to loaded code"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"load_from_package"})}),(0,n.jsx)(r.td,{children:"Load code from a package"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, const loader_path path"})}),(0,n.jsx)(r.td,{children:"Handle to loaded code"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"clear"})}),(0,n.jsx)(r.td,{children:"Unload code"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, loader_handle handle"})}),(0,n.jsx)(r.td,{children:"0 on success, non-zero on failure"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"discover"})}),(0,n.jsx)(r.td,{children:"Discover and register functions"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl, loader_handle handle, context ctx"})}),(0,n.jsx)(r.td,{children:"0 on success, non-zero on failure"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"destroy"})}),(0,n.jsx)(r.td,{children:"Clean up loader resources"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"loader_impl impl"})}),(0,n.jsx)(r.td,{children:"0 on success, non-zero on failure"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"loader-manager",children:"Loader Manager"}),"\n",(0,n.jsx)(r.p,{children:"The Loader Manager acts as a central coordinator for all loader operations. It:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Loads loader plugins dynamically at runtime based on configuration"}),"\n",(0,n.jsx)(r.li,{children:"Registers loaders with the MetaCall core"}),"\n",(0,n.jsx)(r.li,{children:"Dispatches function calls to the appropriate loader"}),"\n",(0,n.jsx)(r.li,{children:"Manages loader lifecycle"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"supported-loaders",children:"Supported Loaders"}),"\n",(0,n.jsx)(r.p,{children:"MetaCall includes several language loaders, each implemented as a plugin that can be enabled or disabled during build configuration."}),"\n",(0,n.jsx)(r.h3,{id:"nodejs-loader",children:"Node.js Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The Node.js loader (",(0,n.jsx)(r.code,{children:"node_loader"}),") enables loading and executing JavaScript code using Node.js."]}),"\n",(0,n.jsx)(r.p,{children:"The Node.js loader works by:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Starting a Node.js runtime in a separate thread"}),"\n",(0,n.jsxs)(r.li,{children:["Loading a bootstrap script (",(0,n.jsx)(r.code,{children:"bootstrap.js"}),") to set up the environment"]}),"\n",(0,n.jsx)(r.li,{children:"Using a trampoline mechanism to handle communication between C++ and JavaScript"}),"\n",(0,n.jsx)(r.li,{children:"Supporting asynchronous function calls with promises"}),"\n",(0,n.jsx)(r.li,{children:"Converting between MetaCall values and JavaScript values using N-API"}),"\n"]}),"\n",(0,n.jsx)(r.h4,{id:"value-conversion",children:"Value Conversion"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"MetaCall Type"}),(0,n.jsx)(r.th,{children:"JavaScript Type"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"null"})}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"null"})," or ",(0,n.jsx)(r.code,{children:"undefined"})]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"bool"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"boolean"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.code,{children:"int"}),"/",(0,n.jsx)(r.code,{children:"long"}),"/",(0,n.jsx)(r.code,{children:"double"})]}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"number"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"string"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"array"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Array"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"map"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Object"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"function"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Function"})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"future"})}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"Promise"})})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"python-loader",children:"Python Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The Python loader (",(0,n.jsx)(r.code,{children:"py_loader"}),") enables loading and executing Python code."]}),"\n",(0,n.jsx)(r.p,{children:"The Python loader:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Initializes the Python interpreter"}),"\n",(0,n.jsx)(r.li,{children:"Uses the Python C API to interact with Python"}),"\n",(0,n.jsx)(r.li,{children:"Provides special handling for Python dictionaries"}),"\n",(0,n.jsx)(r.li,{children:"Includes threading support for Python"}),"\n",(0,n.jsx)(r.li,{children:"Converts between MetaCall values and Python objects"}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"ruby-loader",children:"Ruby Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The Ruby loader (",(0,n.jsx)(r.code,{children:"rb_loader"}),") enables loading and executing Ruby code."]}),"\n",(0,n.jsx)(r.h3,{id:"c-loader",children:"C# Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The C# loader (",(0,n.jsx)(r.code,{children:"cs_loader"}),") enables loading and executing C# code using .NET Core."]}),"\n",(0,n.jsx)(r.h3,{id:"typescript-loader",children:"TypeScript Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The TypeScript loader (",(0,n.jsx)(r.code,{children:"ts_loader"}),") is built on top of the Node.js loader. It transpiles TypeScript code to JavaScript and then utilizes the Node.js loader for execution."]}),"\n",(0,n.jsx)(r.p,{children:"The TypeScript loader:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Depends on the Node.js loader"}),"\n",(0,n.jsx)(r.li,{children:"Uses TypeScript's compiler API to transpile TypeScript to JavaScript"}),"\n",(0,n.jsx)(r.li,{children:"Provides type information for function discovery"}),"\n",(0,n.jsx)(r.li,{children:"Handles TypeScript-specific language features"}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"c-loader-1",children:"C Loader"}),"\n",(0,n.jsxs)(r.p,{children:["The C loader (",(0,n.jsx)(r.code,{children:"c_loader"}),") enables loading and executing C code at runtime using the Tiny C Compiler."]}),"\n",(0,n.jsx)(r.h2,{id:"cross-language-function-calls",children:"Cross-Language Function Calls"}),"\n",(0,n.jsx)(r.h2,{id:"asynchronous-function-calls",children:"Asynchronous Function Calls"}),"\n",(0,n.jsx)(r.p,{children:"MetaCall supports asynchronous function calls through its future system. This is particularly important for languages like JavaScript that have built-in asynchronous programming models."}),"\n",(0,n.jsx)(r.h2,{id:"building-and-configuring-loaders",children:"Building and Configuring Loaders"}),"\n",(0,n.jsx)(r.p,{children:"Loaders are built as plugins and can be enabled or disabled using CMake options. Each loader has its own set of dependencies that must be installed on the system."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Loader"}),(0,n.jsx)(r.th,{children:"CMake Option"}),(0,n.jsx)(r.th,{children:"Dependencies"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Node.js"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_NODE"})}),(0,n.jsx)(r.td,{children:"Node.js development libraries"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Python"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_PY"})}),(0,n.jsx)(r.td,{children:"Python development libraries"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"Ruby"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_RB"})}),(0,n.jsx)(r.td,{children:"Ruby development libraries"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"C#"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_CS"})}),(0,n.jsx)(r.td,{children:".NET Core development libraries"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"TypeScript"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_TS"})}),(0,n.jsx)(r.td,{children:"Node.js loader"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"C"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_C"})}),(0,n.jsx)(r.td,{children:"TCC, libffi, libclang"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"JavaScript (V8)"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_JS"})}),(0,n.jsx)(r.td,{children:"V8 libraries"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"JavaScript (SpiderMonkey)"}),(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"OPTION_BUILD_LOADERS_JSM"})}),(0,n.jsx)(r.td,{children:"SpiderMonkey libraries"})]})]})]}),"\n",(0,n.jsx)(r.h2,{id:"loader-configuration",children:"Loader Configuration"}),"\n",(0,n.jsx)(r.p,{children:"Loaders can be configured using the MetaCall configuration system. Configuration options are loader-specific and typically include paths to runtime executables, library paths, and runtime options."}),"\n",(0,n.jsx)(r.p,{children:"Example configuration for the Node.js loader:"}),"\n",(0,n.jsx)(r.h2,{id:"creating-custom-loaders",children:"Creating Custom Loaders"}),"\n",(0,n.jsx)(r.p,{children:"To create a custom loader for a new language, you need to:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Create a new loader module with the required interface functions"}),"\n",(0,n.jsx)(r.li,{children:"Implement value conversion between MetaCall values and language-specific values"}),"\n",(0,n.jsx)(r.li,{children:"Build the loader as a plugin"}),"\n",(0,n.jsx)(r.li,{children:"Register the loader with the loader manager"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"Here's a simplified outline of a custom loader implementation:"}),"\n",(0,n.jsx)(r.p,{children:"A full implementation would also need to handle value conversion, function discovery, error handling, and proper cleanup of resources."})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(t,{...e})}):t(e)}},8453:(e,r,l)=>{l.d(r,{R:()=>o,x:()=>a});var d=l(6540);const n={},s=d.createContext(n);function o(e){const r=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),d.createElement(s.Provider,{value:r},e.children)}}}]);